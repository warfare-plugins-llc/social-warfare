/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
var socialWarfarePlugin=socialWarfarePlugin||{};(function(c,d){var b;var a=c.socialWarfarePlugin;a.throttle=b=function(g,f,k,h){var i,e=0;if(typeof f!=="boolean"){h=k;k=f;f=d}function j(){var p=this,n=+new Date()-e,o=arguments;function m(){e=+new Date();k.apply(p,o)}function l(){i=d}if(h&&!i){m()}i&&clearTimeout(i);if(h===d&&n>g){m()}else{if(f!==true){i=setTimeout(h?l:m,h===d?g-n:g)}}}if(a.guid){j.guid=k.guid=k.guid||a.guid++}return j};a.debounce=function(e,f,g){return g===d?b(e,f,false):b(e,g,f!==false)}})(this);(function(o,h,j){if(typeof h=="undefined"){h=jQuery}var v=o.socialWarfarePlugin;var w=s(h("body").css("padding-top").replace("px",""));var n=s(h("body").css("padding-bottom").replace("px",""));function s(z){return parseInt(z,10)}function u(A){var z=h.Event(A);h(o).trigger(z)}socialWarfarePlugin.parseFacebookShares=function(z){return s(z[0].share.share_count)+s(z[0].share.comment_count)+s(z[0].og_object.likes.summary.total_count)||0};socialWarfarePlugin.fetchFacebookShares=function(){h.when(h.get("https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_url),(swp_post_recovery_url?h.get("https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_recovery_url):"")).then(function(C,B){if("undefined"!==typeof C[0].share){var z=socialWarfarePlugin.parseFacebookShares(C);if(swp_post_recovery_url){z+=socialWarfarePlugin.parseFacebookShares(B)}var A={action:"swp_facebook_shares_update",post_id:swp_post_id,share_counts:z};h.post(swp_admin_ajax,A)}})};v.activateHoverStates=function(){u("pre_activate_buttons");h(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer").on("mouseenter",function(){if(!h(this).hasClass("swp_nohover")){swpRestoreSizes();var B=h(this).find(".swp_share").outerWidth();var A=h(this).find("i.sw").outerWidth();var C=h(this).width();var z=1+((B+35)/C);h(this).find(".iconFiller").width(B+A+25+"px");h(this).css({flex:z+" 1 0%"})}});h(".swp_social_panel:not(.swp_social_panelSide)").on("mouseleave",function(){swpRestoreSizes()})};socialWarfare.swpRestoreSizes=function(){h(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover) .iconFiller").removeAttr("style");h(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover)").removeAttr("style")};function g(){var z=h(".swp_social_panel").not(".swp_social_panelSide").first();var A=false;var B=h(o).scrollTop();h(".swp_social_panel").not(".swp_social_panelSide, .nc_floater").each(function(D){var E=h(this).offset();if(typeof swpFloatBeforeContent!="undefined"&&false===swpFloatBeforeContent){var C=jQuery(".swp-content-locator").parent();if(D===0&&C.length&&C.offset().top>(B+jQuery(o).height())){A=true}}if((E.top+h(this).height())>B&&E.top<(B+h(o).height())){A=true}});return A}function q(){if(h(".nc_wrapper").length){h(".nc_wrapper").remove()}var A=h(".swp_social_panel").not(".swp_social_panelSide");var E=A.data("float");var D=A.data("float-mobile");if(typeof A=="undefined"){return}if(E!="top"&&E!="bottom"&&D!="top"&&D!="bottom"){return}if(!t()&&E!="top"&&E!="bottom"){return}var B=A.data("float-color");var C=A.data("align")=="center"?0:A.offset().left;var G=h('<div class="nc_wrapper" style="background-color:'+B+'"></div>');if(t()){var z=D}else{var z=E}G.addClass(z).hide().appendTo("body");var F=A.first().clone();F.addClass("nc_floater").css({width:A.outerWidth(true),left:C}).appendTo(G);h(".swp_social_panel .swp_count").css({transition:"padding .1s linear"})}function f(){var A=h(".swp_social_panel").first();var z=A.data("float");if(z=="none"){jQuery(".nc_wrapper, .swp_social_panelSide").hide();return}if(t()){q();c();l()}if(z=="right"||z=="left"){p()}if(z=="bottom"||z=="top"){l()}}function c(){var A=h(".swp_social_panel").first();var z=g()?"collapse":"visible";h(".swp_social_panelSide").hide();h(".nc_wrapper").css("visibility",z)}function p(){var A=h(".swp_social_panel").not(".swp_social_panelSide").first();var B=h(".swp_social_panelSide");var z=B.data("float");var D=g();if(t()&&h(".nc_wrapper").length){B.hide();return}if(!A.length){if(!t()){D=false}else{D=true}}if(B.data("transition")=="slide"){var C=(z.indexOf("left")!==-1)?"left":"right";if(D){B.css(C,"-150px")}else{B.css(C,"5px")}}else{if(D){B.css("opacity",1).fadeOut(300).css("opacity",0)}else{B.css("opacity",0).fadeIn(300).css({opacity:1,display:"flex"})}}}function l(){var A=h(".swp_social_panel").first();var B=0;if(!t()){var z=h(A).data("float")}else{var z=h(A).data("float-mobile")}if(g()){h(".nc_wrapper").hide();B=(z=="bottom")?n:w}else{h(".nc_wrapper").show();jQuery(".swp_social_panel.nc_floater").css("opacity",1);if(z=="bottom"){B=n+50}else{if(A.offset().top>h(o).scrollTop()+h(o).height()){B=w+50;h("body").animate({"padding-top":B+"px"},0)}}}var C="padding-"+z;h("body").animate({paddingProp:B},0)}function y(){var A,z,C,B;A=jQuery("[class*=float-position-center]");if(false==A.length){return}z=A.outerHeight();C=o.innerHeight;if(z>C){A.css("top",0);return}B=(C-z)/2;A.css("top",B)}function b(){if(0!==h(".swp_social_panel").length){q();y();v.activateHoverStates();k();h(o).scroll(v.throttle(50,function(){f()}));h(o).trigger("scroll")}}function i(){var B={wrap:'<div class="sw-pinit" />',pageURL:document.URL};var z=h.extend(B,z);var A=a();if(typeof A!="undefined"&&A){r(A)}h(".swp-content-locator").parent().find("img").each(function(){var H=h(this);if(typeof swpPinIt.disableOnAnchors!=j&&swpPinIt.disableOnAnchors){if(jQuery(H).parents().filter("a").length){return}}if(H.outerHeight()<swpPinIt.minHeight||H.outerWidth()<swpPinIt.minWidth){return}if(H.hasClass("no_pin")||H.hasClass("no-pin")){return}var F;if("undefined"!==typeof swpPinIt.image_source){var D=new Image();D.src=swpPinIt.image_source;F=jQuery(D).prop("src")}else{if(H.data("media")){F=H.data("media")}else{if(h(this).data("lazy-src")){F=h(this).data("lazy-src")}else{if(H[0].src){F=H[0].src}}}}if(!F||"undefined"===typeof F){return}var I="";if(typeof H.data("pin-description")!="undefined"){I=H.data("pin-description")}else{if("undefined"!==typeof swpPinIt.image_description){I=swpPinIt.image_description}else{if(H.attr("title")){I=H.attr("title")}else{if(H.attr("alt")){I=H.attr("alt")}}}}var E="http://pinterest.com/pin/create/bookmarklet/?media="+encodeURI(F)+"&url="+encodeURI(z.pageURL)+"&is_video=false&description="+encodeURIComponent(I);var G=H.attr("class");var C=H.attr("style");H.removeClass().attr("style","").wrap(z.wrap);H.after('<a href="'+E+'" class="sw-pinit-button sw-pinit-'+swpPinIt.vLocation+" sw-pinit-"+swpPinIt.hLocation+'">Save</a>');H.parent(".sw-pinit").addClass(G).attr("style",C)});h(".sw-pinit .sw-pinit-button").on("click",function(){o.open(h(this).attr("href"),"Pinterest","width=632,height=253,status=0,toolbar=0,menubar=0,location=1,scrollbars=1");if(true===swpClickTracking){var C="pin_image";if("function"==typeof ga){ga("send","event","social_media","swp_"+C+"_share")}if("object"==typeof dataLayer){dataLayer.push({event:"swp_"+C+"_share"})}}return false})}function k(){h(".nc_tweet, a.swp_CTT").off("click");h(".nc_tweet, a.swp_CTT").on("click",function(z){if(h(this).hasClass("noPop")){return false}if(false==h(this).data("link")){return false}z.preventDefault();var A=h(this).data("link").replace("â€™","'");var H,B,F,D,G,E;H=270;B=500;if(h(this).is(".pinterest, .buffer_link, .flipboard")){H=550;B=775}F=o.screenY+(o.innerHeight-H)/2;D=o.screenX+(o.innerWidth-B)/2;E="height="+H+",width="+B+",top="+F+",left="+D;G=o.open(A,"_blank",E);if(false==swpClickTracking){if(h(this).hasClass("nc_tweet")){C=h(this).parents(".nc_tweetContainer").data("network")}else{if(h(this).hasClass("swp_CTT")){var C="ctt"}}if("function"==typeof ga){ga("send","event","social_media","swp_"+C+"_share")}if("object"==typeof dataLayer){dataLayer.push({event:"swp_"+C+"_share"})}}return false})}function a(){var C="rgb(189, 8, 28)";var z="8675309";var B="14px 14px";var A=null;document.querySelectorAll("span").forEach(function(F,D){var E=o.getComputedStyle(F);if(E.backgroundColor==C){if(E.backgroundSize==B&&E.zIndex==z){A=F}}});return A}function r(A){var C=A.nextSibling;if(typeof C!="undefined"&&C.nodeName=="SPAN"){var B=o.getComputedStyle(C);var z="24px";if(B.width.indexOf(z)===0&&B.height.indexOf(z)===0){C.remove()}}A.remove()}function d(B,A){if(B>A){return}var z=h(".swp_social_panel");if(z.length>0&&z.find(".swp_pinterest")){return k()}setTimeout(function(){d(B++,A)},2000)}function m(){var B=h(".swp_social_panelSide");if(h(B).attr("class").indexOf("swp_side")!==-1){return}var z=h(B).height();var C=h(o).height();var A=s((C/2)-(z/2));setTimeout(function(){h(B).animate({top:A},0)},105)}function e(){var z=h(".swp_social_panel");socialWarfarePlugin.breakpoint=1100;if(z.length&&z.data("min-width")||z.data("min-width")==0){socialWarfarePlugin.breakpoint=parseInt(z.data("min-width"))}}function t(){var z=h(o).width();return z<socialWarfarePlugin.breakpoint}function x(){e();k();b();var z=false;if(0!==h(".swp_social_panelSide").length){m()}if(1===h(".swp-content-locator").parent().children().length){h(".swp-content-locator").parent().hide()}}h(o).on("load",function(){if("undefined"!==typeof swpPinIt&&swpPinIt.enabled){i()}o.clearCheckID=0});h(document).ready(function(){x();setTimeout(function(){d(0,5)},2000)})})(this,jQuery);