var socialWarfarePlugin=socialWarfarePlugin||{};!function(e,t){var i,n=e.socialWarfarePlugin;n.throttle=i=function(e,i,a,o){function s(){function n(){p=+new Date,a.apply(l,d)}function s(){r=t}var l=this,c=+new Date-p,d=arguments;o&&!r&&n(),r&&clearTimeout(r),o===t&&c>e?n():!0!==i&&(r=setTimeout(o?s:n,o===t?e-c:e))}var r,p=0;return"boolean"!=typeof i&&(o=a,a=i,i=t),n.guid&&(s.guid=a.guid=a.guid||n.guid++),s},n.debounce=function(e,n,a){return a===t?i(e,n,!1):i(e,a,!1!==n)}}(this),function(e,t,i){"use strict";function n(e){return parseInt(e,10)}function a(i){var n=t.Event(i);t(e).trigger(n)}function o(){t(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover) .iconFiller").removeAttr("style"),t(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover)").removeAttr("style")}function s(){var i=(t(".swp_social_panel").not(".swp_social_panelSide").first(),!1),n=t(e).scrollTop();return t(".swp_social_panel").not(".swp_social_panelSide, .nc_floater").each(function(a){var o=t(this).offset();if("undefined"!=typeof swpFloatBeforeContent&&!1===swpFloatBeforeContent){var s=jQuery(".swp-content-locator").parent();0===a&&s.offset().top>n+jQuery(e).height()&&(i=!0)}o.top+t(this).height()>n&&o.top<n+t(e).height()&&(i=!0)}),i}function r(){t(".nc_wrapper").length&&t(".nc_wrapper").remove();var i=t(".swp_social_panel"),n=i.data("float");if(void 0!==i&&!(t(e).width()>i.data("min-width")&&"top"!=n&&"bottom"!=n)){var a=i.data("float-color"),o="center"==i.data("align")?0:i.offset().left,s=t('<div class="nc_wrapper" style="background-color:'+a+'"></div>');if("left"==n||"right"==n)var r=i.data("float-mobile");else var r=n;s.addClass(r).hide().appendTo("body");i.first().clone().addClass("nc_floater").css({width:i.outerWidth(!0),left:o}).appendTo(s),t(".swp_social_panel .swp_count").css({transition:"padding .1s linear"})}}function p(){var i=t(".swp_social_panel").first(),n=i.data("float");if("none"==n)return void jQuery(".nc_wrapper, .swp_social_panelSide").hide();t(e).width()<i.data("min-width")&&(r(),l(),d()),"right"!=n&&"left"!=n||c(),"bottom"!=n&&"top"!=n||d()}function l(){var e=(t(".swp_social_panel").first(),s()?"collapse":"visible");t(".swp_social_panelSide").hide(),t(".nc_wrapper").css("visibility",e)}function c(){var i=t(".swp_social_panel").not(".swp_social_panelSide").first(),n=t(".swp_social_panelSide"),a=n.data("float"),o=s();if(t(e).width()<i.data("min-width")&&t(".nc_wrapper").length)return void n.hide();if(i.length||(o=!(t(e).width()>n.data("min-width"))),"slide"==n.data("transition")){var r=-1!==a.indexOf("left")?"left":"right";o?n.css(r,"-150px"):n.css(r,"5px")}else o?n.css("opacity",1).fadeOut(300).css("opacity",0):n.css("opacity",0).fadeIn(300).css({opacity:1,display:"flex"})}function d(){var i=t(".swp_social_panel").first(),n=0;if(t(e).width()>t(i).data("min-width"))var a=t(i).data("float");else var a=t(i).data("float-mobile");s()?(t(".nc_wrapper").hide(),n="bottom"==a?m:g):(t(".nc_wrapper").show(),jQuery(".swp_social_panel.nc_floater").css("opacity",1),"bottom"==a?n=m+50:i.offset().top>t(e).scrollTop()+t(e).height()&&(n=g+50,t("body").animate({"padding-top":n+"px"},0)));t("body").animate({paddingProp:n},0)}function h(){var t=jQuery("[class*=float-position-center]");if(t.length){var i=t.outerHeight(),n=e.innerHeight;if(i>n)return void t.css("top",0);var a=(n-i)/2;t.css("top",a)}}function f(){0!==t(".swp_social_panel").length&&(r(),h(),b.activateHoverStates(),w(),t(e).scroll(b.throttle(50,function(){p()})),t(e).trigger("scroll"))}function u(){var n={wrap:'<div class="sw-pinit" />',pageURL:document.URL},a=t.extend(n,a);t(".swp-content-locator").parent().find("img").each(function(){var n=t(this);if(!(typeof swpPinIt.disableOnAnchors!=i&&swpPinIt.disableOnAnchors&&jQuery(n).parents().filter("a").length||n.outerHeight()<swpPinIt.minHeight||n.outerWidth()<swpPinIt.minWidth||n.hasClass("no_pin")||n.hasClass("no-pin"))){var o=!1;if(void 0!==swpPinIt.image_source){var s=new Image;s.src=swpPinIt.image_source,o=jQuery(s).src}else n.data("media")?o=n.data("media"):t(this).data("lazy-src")?o=t(this).data("lazy-src"):n[0].src&&(o=n[0].src);if(!1!==o){var r="";void 0!==n.data("pin-description")?r=n.data("pin-description"):void 0!==swpPinIt.image_description?r=swpPinIt.image_description:n.attr("title")?r=n.attr("title"):n.attr("alt")&&(r=n.attr("alt"));var p="http://pinterest.com/pin/create/bookmarklet/?media="+encodeURI(o)+"&url="+encodeURI(a.pageURL)+"&is_video=false&description="+encodeURIComponent(r),l=n.attr("class"),c=n.attr("style");n.removeClass().attr("style","").wrap(a.wrap),n.after('<a href="'+p+'" class="sw-pinit-button sw-pinit-'+swpPinIt.vLocation+" sw-pinit-"+swpPinIt.hLocation+'">Save</a>'),n.parent(".sw-pinit").addClass(l).attr("style",c),t(".sw-pinit .sw-pinit-button").on("click",function(){if(e.open(t(this).attr("href"),"Pinterest","width=632,height=253,status=0,toolbar=0,menubar=0,location=1,scrollbars=1"),!0===swpClickTracking){"function"==typeof ga&&ga("send","event","social_media","swp_pin_image_share"),"object"==typeof dataLayer&&dataLayer.push({event:"swp_pin_image_share"})}return!1})}}});var o=_();void 0!==o&&o&&v(o)}function w(){t(".nc_tweet, a.swp_CTT").off("click"),t(".nc_tweet, a.swp_CTT").on("click",function(i){if(t(this).hasClass("noPop"))return!1;if(t(this).data("link")){i.preventDefault();var n,a,o,s,r=t(this).data("link");r=r.replace("â€™","'"),t(this).hasClass("pinterest")||t(this).hasClass("buffer_link")||t(this).hasClass("flipboard")?(n=550,a=775):(n=270,a=500),o=e.screenY+(e.innerHeight-n)/2,s=e.screenX+(e.innerWidth-a)/2;var p="height="+n+",width="+a+",top="+o+",left="+s;e.open(r,"_blank",p);if(1==swpClickTracking){if(t(this).hasClass("nc_tweet"))var l=t(this).parents(".nc_tweetContainer").attr("data-network");else if(t(this).hasClass("swp_CTT"))var l="ctt";"function"==typeof ga&&ga("send","event","social_media","swp_"+l+"_share"),"object"==typeof dataLayer&&dataLayer.push({event:"swp_"+l+"_share"})}return!1}})}function _(){var t=null;return document.querySelectorAll("span").forEach(function(i,n){var a=e.getComputedStyle(i);"rgb(189, 8, 28)"==a.backgroundColor&&"14px 14px"==a.backgroundSize&&"8675309"==a.zIndex&&(t=i)}),t}function v(t){var i=t.nextSibling;if(void 0!==i&&"SPAN"==i.nodeName){var n=e.getComputedStyle(i);0===n.width.indexOf("24px")&&0===n.height.indexOf("24px")&&i.remove()}t.remove()}void 0===t&&(t=jQuery);var b=e.socialWarfarePlugin,g=n(t("body").css("padding-top").replace("px","")),m=n(t("body").css("padding-bottom").replace("px",""));socialWarfarePlugin.fetchFacebookShares=function(){console.log("Making request to facebook."),t.when(t.get("https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_url),swp_post_recovery_url?t.get("https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_recovery_url):"").then(function(e,i){if(console.log("Then!"),void 0!==e[0].share){var a=n(e[0].share.share_count)+n(e[0].share.comment_count)+n(e[0].og_object.likes.summary.total_count)||0;swp_post_recovery_url&&(a+=n(i[0].share.share_count)+n(i[0].share.comment_count)+n(i[0].og_object.likes.summary.total_count)||0);var o={action:"swp_facebook_shares_update",post_id:swp_post_id,share_counts:a};console.log("Facebook data is ",o),t.post(swp_admin_ajax,o)}})},b.activateHoverStates=function(){a("pre_activate_buttons"),t(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer").on("mouseenter",function(){if(!t(this).hasClass("swp_nohover")){o();var e=t(this).find(".swp_share").outerWidth(),i=t(this).find("i.sw").outerWidth(),n=t(this).width(),a=1+(e+35)/n;t(this).find(".iconFiller").width(e+i+25+"px"),t(this).css({flex:a+" 1 0%"})}}),t(".swp_social_panel:not(.swp_social_panelSide)").on("mouseleave",function(){o()})},t(e).on("load",function(){"undefined"!=typeof swpPinIt&&swpPinIt.enabled&&u()}),t(document).ready(function(){w(),f();var i=t(".swp_social_panelSide"),a=!1;if(t(".swp_social_panel").hover(function(){a=!0},function(){a=!1}),t(e).resize(b.debounce(250,function(){t(".swp_social_panel").length&&!1!==a||(e.swpAdjust=1,f())})),t(document.body).on("post-load",function(){f()}),0!==i.length){if(-1!==t(i).attr("class").indexOf("swp_side"))return;var o=t(i).height(),s=t(e).height(),r=n(s/2-o/2);setTimeout(function(){t(i).animate({top:r},0)},105)}1===t(".swp-content-locator").parent().children().length&&t(".swp-content-locator").parent().hide()})}(this,jQuery),function(e){var t=/iPhone/i,i=/iPod/i,n=/iPad/i,a=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,o=/Android/i,s=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,r=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,l=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,c=/BlackBerry/i,d=/BB10/i,h=/Opera Mini/i,f=/(CriOS|Chrome)(?=.*\bMobile\b)/i,u=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,w=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),_=function(e,t){return e.test(t)},v=function(e){var v=e||navigator.userAgent,b=v.split("[FBAN");if(void 0!==b[1]&&(v=b[0]),b=v.split("Twitter"),void 0!==b[1]&&(v=b[0]),this.apple={phone:_(t,v),ipod:_(i,v),tablet:!_(t,v)&&_(n,v),device:_(t,v)||_(i,v)||_(n,v)},this.amazon={phone:_(s,v),tablet:!_(s,v)&&_(r,v),device:_(s,v)||_(r,v)},this.android={phone:_(s,v)||_(a,v),tablet:!_(s,v)&&!_(a,v)&&(_(r,v)||_(o,v)),device:_(s,v)||_(r,v)||_(a,v)||_(o,v)},this.windows={phone:_(p,v),tablet:_(l,v),device:_(p,v)||_(l,v)},this.other={blackberry:_(c,v),blackberry10:_(d,v),opera:_(h,v),firefox:_(u,v),chrome:_(f,v),device:_(c,v)||_(d,v)||_(h,v)||_(u,v)||_(f,v)},this.seven_inch=_(w,v),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},b=function(){var e=new v;return e.Class=v,e};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=v:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=b():"function"==typeof define&&define.amd?define("swp_isMobile",[],e.swp_isMobile=b()):e.swp_isMobile=b()}(this);