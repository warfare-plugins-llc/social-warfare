window.socialWarfare=window.socialWarfare||{},function(e,a){"use strict";if(void 0===a)var a=jQuery;var t=parseInt(a("body").css("padding-top").replace("px","")),i=parseInt(a("body").css("padding-bottom").replace("px",""));socialWarfare.throttle=function(e,a){function t(){function t(){s=+new Date,a.apply(o,r)}var o=this,n=+new Date-s,r=arguments;i&&clearTimeout(i),n>e?t():i=setTimeout(t,e-n)}var i=0,s=0;return socialWarfareguid&&(t.guid=a.guid=a.guid||socialWarfareguid++),t},socialWarfare.trigger=function(t){a(e).trigger(a.Event(t))},socialWarfare.parseFacebookShares=function(e){return parseInt(e[0].share.share_count)+parseInt(e[0].share.comment_count)+parseInt(e[0].og_object.likes.summary.total_count)||0},socialWarfare.fetchFacebookShares=function(){var e="https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_url,t=swp_post_recovery_url?"https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_recovery_url:"";a.when(a.get(e),a.get(t)).then(function(e,t){if(void 0!==e[0].share){var i=socialWarfare.parseFacebookShares(e[0]);swp_post_recovery_url&&(i+=socialWarfare.parseFacebookShares(t[0]));var s={action:"swp_facebook_shares_update",post_id:swp_post_id,share_counts:i};a.post(swp_admin_ajax,s)}})},socialWarfare.activateHoverStates=function(){socialWarfare.trigger("pre_activate_buttons"),a(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer").on("mouseenter",function(){if(!a(this).hasClass("swp_nohover")){var e=a(this).find(".swp_share").outerWidth(),t=a(this).find("i.sw").outerWidth(),i=a(this).width(),s=1+(term_width+35)/i;a(this).find(".iconFiller").width(e+t+25+"px"),a(this).css("flex",s+" 1 0%")}}),a(".swp_social_panel:not(.swp_social_panelSide)").on("mouseleave",socialWarfare.resetStaticDimensions)},socialWarfare.resetStaticDimensions=function(){a(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover) .iconFiller").removeAttr("style"),a(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover)").removeAttr("style")},socialWarefare.panelIsVisible=function(){var t=!1,i=a(e).scrollTop();return a(".swp_social_panel").not(".swp_social_panelSide, .nc_floater").each(function(s){var o=a(this).offset();if("undefined"!=typeof swpFloatBeforeContent&&!1===swpFloatBeforeContent){var n=jQuery(".swp-content-locator").parent();0===s&&n.length&&n.offset().top>i+jQuery(e).height()&&(t=!0)}o.top+a(this).height()>i&&o.top<i+a(e).height()&&(t=!0)}),t},socialWarfare.createFloatBar=function(){a(".nc_wrapper").length&&a(".nc_wrapper").remove();var e=a(".swp_social_panel").not(".swp_social_panelSide"),t=e.data("float"),i=e.data("float-mobile");if(void 0!==e&&("top"==t||"bottom"==t||"top"==i||"bottom"==i)&&(isMobile()||"top"==t||"bottom"==t)){var s=e.data("float-color"),o="center"==e.data("align")?0:e.offset().left,n=a('<div class="nc_wrapper" style="background-color:'+s+'"></div>');if(isMobile())var r=i;else var r=t;n.addClass(r).hide().appendTo("body");e.first().clone().addClass("nc_floater").css({width:e.outerWidth(!0),left:o}).appendTo(n),a(".swp_social_panel .swp_count").css({transition:"padding .1s linear"})}},socialWarfare.toggleFloatingButtons=function(){var e=a(".swp_social_panel").first(),t=e.data("float");if("none"==t)return void jQuery(".nc_wrapper, .swp_social_panelSide").hide();isMobile()&&(createFloatBar(),toggleMobileButtons(),toggleFloatingBar()),"right"!=t&&"left"!=t||toggleSideButtons(),"bottom"!=t&&"top"!=t||toggleFloatingBar()},socialWarfare.toggleMobileButtons=function(){var e=(a(".swp_social_panel").first(),panelIsVisible()?"collapse":"visible");a(".swp_social_panelSide").hide(),a(".nc_wrapper").css("visibility",e)},socialWarfare.toggleSideButtons=function(){var e=a(".swp_social_panel").not(".swp_social_panelSide").first(),t=a(".swp_social_panelSide"),i=t.data("float"),s=panelIsVisible();if(isMobile()&&a(".nc_wrapper").length)return void t.hide();if(e.length||(s=!!isMobile()),"slide"==t.data("transition")){var o=-1!==i.indexOf("left")?"left":"right";s?t.css(o,"-150px"):t.css(o,"5px")}else s?t.css("opacity",1).fadeOut(300).css("opacity",0):t.css("opacity",0).fadeIn(300).css({opacity:1,display:"flex"})},socialWarfare.toggleFloatingBar=function(){var s=a(".swp_social_panel").first(),o=0;if(isMobile())var n=a(s).data("float-mobile");else var n=a(s).data("float");panelIsVisible()?(a(".nc_wrapper").hide(),o="bottom"==n?i:t):(a(".nc_wrapper").show(),jQuery(".swp_social_panel.nc_floater").css("opacity",1),"bottom"==n?o=i+50:s.offset().top>a(e).scrollTop()+a(e).height()&&(o=t+50,a("body").animate({"padding-top":o+"px"},0)));a("body").animate({paddingProp:o},0)},socialWarfare.centerSidePanel=function(){var a,t,i,s;if(a=jQuery("[class*=float-position-center]"),0!=a.length){if(t=a.outerHeight(),i=e.innerHeight,t>i)return void a.css("top",0);s=(i-t)/2,a.css("top",s)}},socialWarfare.initShareButtons=function(){0!==a(".swp_social_panel").length&&(createFloatBar(),centerSidePanel(),socialWarfareactivateHoverStates(),handleButtonClicks(),a(e).scroll(socialWarfarethrottle(50,function(){toggleFloatingButtons()})),a(e).trigger("scroll"))},socialWarfare.pinitButton=function(){var t={wrap:'<div class="sw-pinit" />',pageURL:document.URL},i=a.extend(t,i),s=findPinterestSaveButton();void 0!==s&&s&&removePinterestButton(s),a(".swp-content-locator").parent().find("img").each(function(){var e=a(this);if(!(void 0!=typeof swpPinIt.disableOnAnchors&&swpPinIt.disableOnAnchors&&jQuery(e).parents().filter("a").length||e.outerHeight()<swpPinIt.minHeight||e.outerWidth()<swpPinIt.minWidth||e.hasClass("no_pin")||e.hasClass("no-pin"))){var t;if(void 0!==swpPinIt.image_source){var s=new Image;s.src=swpPinIt.image_source,t=jQuery(s).prop("src")}else e.data("media")?t=e.data("media"):a(this).data("lazy-src")?t=a(this).data("lazy-src"):e[0].src&&(t=e[0].src);if(t&&void 0!==t){var o="";void 0!==e.data("pin-description")?o=e.data("pin-description"):void 0!==swpPinIt.image_description?o=swpPinIt.image_description:e.attr("title")?o=e.attr("title"):e.attr("alt")&&(o=e.attr("alt"));var n="http://pinterest.com/pin/create/bookmarklet/?media="+encodeURI(t)+"&url="+encodeURI(i.pageURL)+"&is_video=false&description="+encodeURIComponent(o),r=e.attr("class"),l=e.attr("style");e.removeClass().attr("style","").wrap(i.wrap),e.after('<a href="'+n+'" class="sw-pinit-button sw-pinit-'+swpPinIt.vLocation+" sw-pinit-"+swpPinIt.hLocation+'">Save</a>'),e.parent(".sw-pinit").addClass(r).attr("style",l)}}}),a(".sw-pinit .sw-pinit-button").on("click",function(){if(e.open(a(this).attr("href"),"Pinterest","width=632,height=253,status=0,toolbar=0,menubar=0,location=1,scrollbars=1"),!0===swpClickTracking){"function"==typeof ga&&ga("send","event","social_media","swp_pin_image_share"),"object"==typeof dataLayer&&dataLayer.push({event:"swp_pin_image_share"})}return!1})},socialWarfare.handleButtonClicks=function(){a(".nc_tweet, a.swp_CTT").off("click"),a(".nc_tweet, a.swp_CTT").on("click",function(t){if(a(this).hasClass("noPop"))return!1;if(0==a(this).data("link"))return!1;t.preventDefault();var i,s,o,n,r,l=a(this).data("link").replace("â€™","'");return i=270,s=500,a(this).is(".pinterest, .buffer_link, .flipboard")&&(i=550,s=775),o=e.screenY+(e.innerHeight-i)/2,n=e.screenX+(e.innerWidth-s)/2,r="height="+i+",width="+s+",top="+o+",left="+n,e.open(l,"_blank",r),0==swpClickTracking&&(a(this).hasClass("nc_tweet")?network=a(this).parents(".nc_tweetContainer").data("network"):a(this).hasClass("swp_CTT")&&(network="ctt"),"function"==typeof ga&&ga("send","event","social_media","swp_"+network+"_share"),"object"==typeof dataLayer&&dataLayer.push({event:"swp_"+network+"_share"})),!1})},socialWarfare.findPinterestSaveButton=function(){var a=null;return document.querySelectorAll("span").forEach(function(t,i){var s=e.getComputedStyle(t);"rgb(189, 8, 28)"==s.backgroundColor&&"14px 14px"==s.backgroundSize&&"8675309"==s.zIndex&&(a=t)}),a},socialWarfare.removePinterestButton=function(a){var t=a.nextSibling;if(void 0!==t&&"SPAN"==t.nodeName){var i=e.getComputedStyle(t);0===i.width.indexOf("24px")&&0===i.height.indexOf("24px")&&t.remove()}a.remove()},socialWarfare.checkListeners=function(e,t){if(!(e>t)){var i=a(".swp_social_panel");if(i.length>0&&i.find(".swp_pinterest"))return socialWarfare.handleButtonClicks();setTimeout(function(){checkListeners(e++,t)},2e3)}},socialWarfare.initSidePosition=function(){var t=a(".swp_social_panelSide");if(-1===a(t).attr("class").indexOf("swp_side")){var i=a(t).height(),s=a(e).height(),o=parseInt(s/2-i/2);setTimeout(function(){a(t).animate({top:o},0)},105)}},socialWarfare.establishBreakpoint=function(){var e=a(".swp_social_panel");socialWarfare.breakpoint=1100,(e.length&&e.data("min-width")||0==e.data("min-width"))&&(socialWarfare.breakpoint=parseInt(e.data("min-width")))},socialWwarfare.isMobile=function(){return a(e).width()<socialWarfare.breakpoint},socialWarefare.establishPanels=function(){socialWarfare.panels={static:null,side:null,bar:null};var e=a(".swp_social_panel").not(".swp_social_panelSide").first(),t=a(".swp_social_panelSide").find("'[data-position]=side'").first(),i=a(".swp_social_panelSide").find("'[data-position]=bar'").first();return panel&&(socialWarfare.panels.static=e),t&&(socialWarfare.panels.side=t),i&&(socialWarfare.panels.bar=i),socialWarfare.panels},socialWarefare.initPlugin=function(){socialWarefare.establishPanels(),socialWarefare.establishBreakpoint(),socialWarefare.handleButtonClicks(),socialWarefare.initShareButtons(),socialWarfare.panels.side&&socialWarefare.initSidePosition()},a(e).on("load",function(){"undefined"!=typeof swpPinIt&&swpPinIt.enabled&&socialWarefare.pinitButton(),e.clearCheckID=0}),a(document).ready(function(){socialWarefare.initPlugin(),setTimeout(function(){checkListeners(0,5)},2e3)})}(this,jQuery);