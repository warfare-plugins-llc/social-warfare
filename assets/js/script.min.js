/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
var socialWarfarePlugin=socialWarfarePlugin||{};(function(c,d){var b;var a=c.socialWarfarePlugin;a.throttle=b=function(g,f,k,h){var i,e=0;if(typeof f!=="boolean"){h=k;k=f;f=d}function j(){var p=this,n=+new Date()-e,o=arguments;function m(){e=+new Date();k.apply(p,o)}function l(){i=d}if(h&&!i){m()}i&&clearTimeout(i);if(h===d&&n>g){m()}else{if(f!==true){i=setTimeout(h?l:m,h===d?g-n:g)}}}if(a.guid){j.guid=k.guid=k.guid||a.guid++}return j};a.debounce=function(e,f,g){return g===d?b(e,f,false):b(e,g,f!==false)}})(this);(function(o,h,j){if(typeof h=="undefined"){h=jQuery}var v=o.socialWarfarePlugin;var w=s(h("body").css("padding-top").replace("px",""));var n=s(h("body").css("padding-bottom").replace("px",""));function s(A){return parseInt(A,10)}function u(B){var A=h.Event(B);h(o).trigger(A)}socialWarfarePlugin.parseFacebookShares=function(A){return s(A[0].share.share_count)+s(A[0].share.comment_count)+s(A[0].og_object.likes.summary.total_count)||0};socialWarfarePlugin.fetchFacebookShares=function(){h.when(h.get("https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_url),(swp_post_recovery_url?h.get("https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_recovery_url):"")).then(function(D,C){if("undefined"!==typeof D[0].share){var A=socialWarfarePlugin.parseFacebookShares(D);if(swp_post_recovery_url){A+=socialWarfarePlugin.parseFacebookShares(C)}var B={action:"swp_facebook_shares_update",post_id:swp_post_id,share_counts:A};h.post(swp_admin_ajax,B)}})};v.activateHoverStates=function(){u("pre_activate_buttons");h(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer").on("mouseenter",function(){if(!h(this).hasClass("swp_nohover")){z();var C=h(this).find(".swp_share").outerWidth();var B=h(this).find("i.sw").outerWidth();var D=h(this).width();var A=1+((C+35)/D);h(this).find(".iconFiller").width(C+B+25+"px");h(this).css({flex:A+" 1 0%"})}});h(".swp_social_panel:not(.swp_social_panelSide)").on("mouseleave",function(){z()})};function z(){h(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover) .iconFiller").removeAttr("style");h(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover)").removeAttr("style")}function g(){var A=h(".swp_social_panel").not(".swp_social_panelSide").first();var B=false;var C=h(o).scrollTop();h(".swp_social_panel").not(".swp_social_panelSide, .nc_floater").each(function(E){var F=h(this).offset();if(typeof swpFloatBeforeContent!="undefined"&&false===swpFloatBeforeContent){var D=jQuery(".swp-content-locator").parent();if(E===0&&D.length&&D.offset().top>(C+jQuery(o).height())){B=true}}if((F.top+h(this).height())>C&&F.top<(C+h(o).height())){B=true}});return B}function q(){if(h(".nc_wrapper").length){h(".nc_wrapper").remove()}var B=h(".swp_social_panel").not(".swp_social_panelSide");var F=B.data("float");var E=B.data("float-mobile");if(typeof B=="undefined"){return}if(F!="top"&&F!="bottom"&&E!="top"&&E!="bottom"){return}if(!t()&&F!="top"&&F!="bottom"){return}var C=B.data("float-color");var D=B.data("align")=="center"?0:B.offset().left;var H=h('<div class="nc_wrapper" style="background-color:'+C+'"></div>');if(t()){var A=E}else{var A=F}H.addClass(A).hide().appendTo("body");var G=B.first().clone();G.addClass("nc_floater").css({width:B.outerWidth(true),left:D}).appendTo(H);h(".swp_social_panel .swp_count").css({transition:"padding .1s linear"})}function f(){var B=h(".swp_social_panel").first();var A=B.data("float");if(A=="none"){jQuery(".nc_wrapper, .swp_social_panelSide").hide();return}if(t()){q();c();l()}if(A=="right"||A=="left"){p()}if(A=="bottom"||A=="top"){l()}}function c(){var B=h(".swp_social_panel").first();var A=g()?"collapse":"visible";h(".swp_social_panelSide").hide();h(".nc_wrapper").css("visibility",A)}function p(){var B=h(".swp_social_panel").not(".swp_social_panelSide").first();var C=h(".swp_social_panelSide");var A=C.data("float");var E=g();if(t()&&h(".nc_wrapper").length){C.hide();return}if(!B.length){if(!t()){E=false}else{E=true}}if(C.data("transition")=="slide"){var D=(A.indexOf("left")!==-1)?"left":"right";if(E){C.css(D,"-150px")}else{C.css(D,"5px")}}else{if(E){C.css("opacity",1).fadeOut(300).css("opacity",0)}else{C.css("opacity",0).fadeIn(300).css({opacity:1,display:"flex"})}}}function l(){var B=h(".swp_social_panel").first();var C=0;if(!t()){var A=h(B).data("float")}else{var A=h(B).data("float-mobile")}if(g()){h(".nc_wrapper").hide();C=(A=="bottom")?n:w}else{h(".nc_wrapper").show();jQuery(".swp_social_panel.nc_floater").css("opacity",1);if(A=="bottom"){C=n+50}else{if(B.offset().top>h(o).scrollTop()+h(o).height()){C=w+50;h("body").animate({"padding-top":C+"px"},0)}}}var D="padding-"+A;h("body").animate({paddingProp:C},0)}function y(){var B=jQuery("[class*=float-position-center]");if(!B.length){return}var A=B.outerHeight();var D=o.innerHeight;if(A>D){B.css("top",0);return}var C=(D-A)/2;B.css("top",C)}function b(){if(0!==h(".swp_social_panel").length){q();y();v.activateHoverStates();k();h(o).scroll(v.throttle(50,function(){f()}));h(o).trigger("scroll")}}function i(){var C={wrap:'<div class="sw-pinit" />',pageURL:document.URL};var A=h.extend(C,A);var B=a();if(typeof B!="undefined"&&B){r(B)}h(".swp-content-locator").parent().find("img").each(function(){var I=h(this);if(typeof swpPinIt.disableOnAnchors!=j&&swpPinIt.disableOnAnchors){if(jQuery(I).parents().filter("a").length){return}}if(I.outerHeight()<swpPinIt.minHeight||I.outerWidth()<swpPinIt.minWidth){return}if(I.hasClass("no_pin")||I.hasClass("no-pin")){return}var G;if("undefined"!==typeof swpPinIt.image_source){var E=new Image();E.src=swpPinIt.image_source;G=jQuery(E).prop("src")}else{if(I.data("media")){G=I.data("media")}else{if(h(this).data("lazy-src")){G=h(this).data("lazy-src")}else{if(I[0].src){G=I[0].src}}}}if(!G||"undefined"===typeof G){return}var J="";if(typeof I.data("pin-description")!="undefined"){J=I.data("pin-description")}else{if("undefined"!==typeof swpPinIt.image_description){J=swpPinIt.image_description}else{if(I.attr("title")){J=I.attr("title")}else{if(I.attr("alt")){J=I.attr("alt")}}}}var F="http://pinterest.com/pin/create/bookmarklet/?media="+encodeURI(G)+"&url="+encodeURI(A.pageURL)+"&is_video=false&description="+encodeURIComponent(J);var H=I.attr("class");var D=I.attr("style");I.removeClass().attr("style","").wrap(A.wrap);I.after('<a href="'+F+'" class="sw-pinit-button sw-pinit-'+swpPinIt.vLocation+" sw-pinit-"+swpPinIt.hLocation+'">Save</a>');I.parent(".sw-pinit").addClass(H).attr("style",D)});h(".sw-pinit .sw-pinit-button").on("click",function(){o.open(h(this).attr("href"),"Pinterest","width=632,height=253,status=0,toolbar=0,menubar=0,location=1,scrollbars=1");if(true===swpClickTracking){var D="pin_image";if("function"==typeof ga){ga("send","event","social_media","swp_"+D+"_share")}if("object"==typeof dataLayer){dataLayer.push({event:"swp_"+D+"_share"})}}return false})}function k(){h(".nc_tweet, a.swp_CTT").off("click");h(".nc_tweet, a.swp_CTT").on("click",function(A){if(h(this).hasClass("noPop")){return false}if(false==h(this).data("link")){return false}A.preventDefault();var B=h(this).data("link").replace("â€™","'");var I,C,G,E,H,F;I=270;C=500;if(h(this).is(".pinterest, .buffer_link, .flipboard")){I=550;C=775}G=o.screenY+(o.innerHeight-I)/2;E=o.screenX+(o.innerWidth-C)/2;F="height="+I+",width="+C+",top="+G+",left="+E;H=o.open(B,"_blank",F);if(true==swpClickTracking){if(h(this).hasClass("nc_tweet")){var D=h(this).parents(".nc_tweetContainer").data("network")}else{if(h(this).hasClass("swp_CTT")){var D="ctt"}}if("function"==typeof ga){ga("send","event","social_media","swp_"+D+"_share")}if("object"==typeof dataLayer){dataLayer.push({event:"swp_"+D+"_share"})}}return false})}function a(){var D="rgb(189, 8, 28)";var A="8675309";var C="14px 14px";var B=null;document.querySelectorAll("span").forEach(function(G,E){var F=o.getComputedStyle(G);if(F.backgroundColor==D){if(F.backgroundSize==C&&F.zIndex==A){B=G}}});return B}function r(B){var D=B.nextSibling;if(typeof D!="undefined"&&D.nodeName=="SPAN"){var C=o.getComputedStyle(D);var A="24px";if(C.width.indexOf(A)===0&&C.height.indexOf(A)===0){D.remove()}}B.remove()}function d(C,B){if(C>B){return}var A=h(".swp_social_panel");if(A.length>0&&A.find(".swp_pinterest")){return k()}setTimeout(function(){d(C++,B)},2000)}function m(){var C=h(".swp_social_panelSide");if(h(C).attr("class").indexOf("swp_side")!==-1){return}var A=h(C).height();var D=h(o).height();var B=s((D/2)-(A/2));setTimeout(function(){h(C).animate({top:B},0)},105)}function e(){var A=h(".swp_social_panel");socialWarfarePlugin.breakpoint=1100;if(A.length&&A.data("min-width")||A.data("min-width")==0){socialWarfarePlugin.breakpoint=parseInt(A.data("min-width"))}}function t(){var A=h(o).width();return A<socialWarfarePlugin.breakpoint}function x(){e();k();b();var A=false;if(0!==h(".swp_social_panelSide").length){m()}if(1===h(".swp-content-locator").parent().children().length){h(".swp-content-locator").parent().hide()}}h(o).on("load",function(){if("undefined"!==typeof swpPinIt&&swpPinIt.enabled){i()}o.clearCheckID=0});h(document).ready(function(){x();setTimeout(function(){d(0,5)},2000)})})(this,jQuery);