window.socialWarfare=window.socialWarfare||{},function(a,e){"use strict";if(void 0===e)var e=jQuery;socialWarfare.paddingTop=parseInt(e("body").css("padding-top").replace("px","")),socialWarfare.paddingBottom=parseInt(e("body").css("padding-bottom").replace("px","")),socialWarfare.throttle=function(a,e){function i(){function i(){s=+new Date,e.apply(r,n)}var r=this,o=+new Date-s,n=arguments;t&&clearTimeout(t),o>a?i():t=setTimeout(i,a-o)}var t=0,s=0;return socialWarfare.guid&&(i.guid=e.guid=e.guid||socialWarfareguid++),i},socialWarfare.trigger=function(i){e(a).trigger(e.Event(i))},socialWarfare.parseFacebookShares=function(a){return parseInt(a.share.share_count)+parseInt(a.share.comment_count)+parseInt(a.og_object.likes.summary.total_count)||0},socialWarfare.fetchFacebookShares=function(){var a="https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_url,i=swp_post_recovery_url?"https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_recovery_url:"";e.when(e.get(a),e.get(i)).then(function(a,i){if(void 0!==a[0].share){var t=socialWarfare.parseFacebookShares(a[0]);swp_post_recovery_url&&(t+=socialWarfare.parseFacebookShares(i[0]));var s={action:"swp_facebook_shares_update",post_id:swp_post_id,share_counts:t};e.post(swp_admin_ajax,s)}})},socialWarfare.activateHoverStates=function(){socialWarfare.trigger("pre_activate_buttons"),e(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer").on("mouseenter",function(){if(!e(this).hasClass("swp_nohover")){socialWarfare.resetStaticDimensions();var a=e(this).find(".swp_share").outerWidth(),i=e(this).find("i.sw").outerWidth(),t=e(this).width(),s=1+(a+35)/t;e(this).find(".iconFiller").width(a+i+25+"px"),e(this).css("flex",s+" 1 0%")}}),e(".swp_social_panel:not(.swp_social_panelSide)").on("mouseleave",socialWarfare.resetStaticDimensions)},socialWarfare.resetStaticDimensions=function(){e(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover) .iconFiller").removeAttr("style"),e(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover)").removeAttr("style")},socialWarfare.staticPanelIsVisible=function(){var i=!1,t=e(a).scrollTop();return e(".swp_social_panel").not(".swp_social_panelSide, .nc_floater").each(function(s){var r=e(this).offset();if("undefined"!=typeof swpFloatBeforeContent&&!1===swpFloatBeforeContent){var o=jQuery(".swp-content-locator").parent();0===s&&o.length&&o.offset().top>t+jQuery(a).height()&&(i=!0)}r.top+e(this).height()>t&&r.top<t+e(a).height()&&(i=!0)}),i},socialWarfare.createBarPanel=function(){if(socialWarfare.panels.static&&socialWarfare.panels.static.length){var a=socialWarfare.panels.static.data("float"),i=socialWarfare.panels.static.data("float-mobile"),t=socialWarfare.panels.static.data("float-color"),s="center"==socialWarfare.panels.static.data("align")?0:socialWarfare.panels.static.offset().left,r=e('<div class="nc_wrapper" style="background-color:'+t+'"></div>');if(e(".nc_wrapper").length&&e(".nc_wrapper").remove(),("top"==a||"bottom"==a||"top"==i||"bottom"==i)&&(socialWarfare.isMobile()||"top"==a||"bottom"==a)){if(socialWarfare.isMobile())var o=i;else var o=a;r.addClass(o).hide().appendTo("body"),socialWarfare.panels.bar=socialWarfare.panels.static.first().clone(),socialWarfare.panels.bar.addClass("nc_floater").css({width:socialWarfare.panels.static.outerWidth(!0),left:s}).appendTo(r),e(".swp_social_panel .swp_count").css({transition:"padding .1s linear"})}}},socialWarfare.toggleFloatingButtons=function(){var a=socialWarfare.panels.static.data("float");if("none"==a)return e(".nc_wrapper, .swp_social_panelSide").hide();socialWarfare.isMobile()&&(socialWarfare.createBarPanel(),socialWarfare.toggleMobileButtons(),socialWarfare.toggleBarPanel()),"right"!=a&&"left"!=a||socialWarfare.toggleSidePanel(),"bottom"!=a&&"top"!=a||socialWarfare.toggleBarPanel()},socialWarfare.toggleMobileButtons=function(){var a=socialWarfare.staticPanelIsVisible()?"collapse":"visible";socialWarfare.panels.side.hide(),e(".nc_wrapper").css("visibility",a)},socialWarfare.toggleSidePanel=function(){var a,i=socialWarfare.panels.side.data("float"),t=socialWarfare.staticPanelIsVisible();if(socialWarfare.isMobile()&&e(".nc_wrapper").length)return void socialWarfare.panels.side.hide();socialWarfare.panels.side&&socialWarfare.panels.side.length||(t=!!socialWarfare.isMobile()),"slide"==socialWarfare.panels.side.data("transition")?(a=-1!==i.indexOf("left")?"left":"right",t?socialWarfare.panels.side.css(a,"-150px"):socialWarfare.panels.side.css(a,"5px")):t?socialWarfare.panels.side.css("opacity",1).fadeOut(300).css("opacity",0):socialWarfare.panels.side.css("opacity",0).fadeIn(300).css({opacity:1,display:"flex"})},socialWarfare.toggleBarPanel=function(){var i=e(".swp_social_panel").first(),t=0;if(socialWarfare.isMobile())var s=e(i).data("float-mobile");else var s=e(i).data("float");socialWarfare.staticPanelIsVisible()?(e(".nc_wrapper").hide(),t="bottom"==s?socialWarfare.paddingBottom:socialWarfare.paddingTop):(e(".nc_wrapper").show(),jQuery(".swp_social_panel.nc_floater").css("opacity",1),"bottom"==s?t=socialWarfare.paddingBottom+50:i.offset().top>e(a).scrollTop()+e(a).height()&&(t=socialWarfare.paddingTop+50,e("body").animate({"padding-top":t+"px"},0)));e("body").animate({paddingProp:t},0)},socialWarfare.centerSidePanel=function(){var e,i,t;if(socialWarfare.panels.side&&socialWarfare.panels.side.length){if(e=socialWarfare.panels.side.outerHeight(),i=a.innerHeight,e>i)return socialWarfare.panels.side.css("top",0);t=(i-e)/2,socialWarfare.panels.side.css("top",t)}},socialWarfare.initShareButtons=function(){(socialWarfare.panels.static||socialWarfare.panels.side||socialWarfare.panels.bar)&&(socialWarfare.createBarPanel(),socialWarfare.centerSidePanel(),socialWarfare.activateHoverStates(),socialWarfare.handleButtonClicks(),e(a).scroll(socialWarfare.throttle(50,function(){socialWarfare.toggleFloatingButtons()})),e(a).trigger("scroll"))},socialWarfare.pinitButton=function(){var i={wrap:'<div class="sw-pinit" />',pageURL:document.URL},t=e.extend(i,t),s=socialWarfare.findPinterestSaveButton();void 0!==s&&s&&socialWarfare.removePinterestButton(s),e(".swp-content-locator").parent().find("img").each(function(){var a=e(this);if(!(void 0!=typeof swpPinIt.disableOnAnchors&&swpPinIt.disableOnAnchors&&jQuery(a).parents().filter("a").length||a.outerHeight()<swpPinIt.minHeight||a.outerWidth()<swpPinIt.minWidth||a.hasClass("no_pin")||a.hasClass("no-pin"))){var i;if(void 0!==swpPinIt.image_source){var s=new Image;s.src=swpPinIt.image_source,i=jQuery(s).prop("src")}else a.data("media")?i=a.data("media"):e(this).data("lazy-src")?i=e(this).data("lazy-src"):a[0].src&&(i=a[0].src);if(i&&void 0!==i){var r="";void 0!==a.data("pin-description")?r=a.data("pin-description"):void 0!==swpPinIt.image_description?r=swpPinIt.image_description:a.attr("title")?r=a.attr("title"):a.attr("alt")&&(r=a.attr("alt"));var o="http://pinterest.com/pin/create/bookmarklet/?media="+encodeURI(i)+"&url="+encodeURI(t.pageURL)+"&is_video=false&description="+encodeURIComponent(r),n=a.attr("class"),l=a.attr("style");a.removeClass().attr("style","").wrap(t.wrap),a.after('<a href="'+o+'" class="sw-pinit-button sw-pinit-'+swpPinIt.vLocation+" sw-pinit-"+swpPinIt.hLocation+'">Save</a>'),a.parent(".sw-pinit").addClass(n).attr("style",l)}}}),e(".sw-pinit .sw-pinit-button").on("click",function(){if(a.open(e(this).attr("href"),"Pinterest","width=632,height=253,status=0,toolbar=0,menubar=0,location=1,scrollbars=1"),!0===swpClickTracking){"function"==typeof ga&&ga("send","event","social_media","swp_pin_image_share"),"object"==typeof dataLayer&&dataLayer.push({event:"swp_pin_image_share"})}return!1})},socialWarfare.handleButtonClicks=function(){e(".nc_tweet, a.swp_CTT").off("click"),e(".nc_tweet, a.swp_CTT").on("click",function(i){if(e(this).hasClass("noPop"))return!1;if(0==e(this).data("link"))return!1;i.preventDefault();var t,s,r,o,n,l=e(this).data("link").replace("â€™","'");return t=270,s=500,e(this).is(".pinterest, .buffer_link, .flipboard")&&(t=550,s=775),r=a.screenY+(a.innerHeight-t)/2,o=a.screenX+(a.innerWidth-s)/2,n="height="+t+",width="+s+",top="+r+",left="+o,a.open(l,"_blank",n),0==swpClickTracking&&(e(this).hasClass("nc_tweet")?network=e(this).parents(".nc_tweetContainer").data("network"):e(this).hasClass("swp_CTT")&&(network="ctt"),"function"==typeof ga&&ga("send","event","social_media","swp_"+network+"_share"),"object"==typeof dataLayer&&dataLayer.push({event:"swp_"+network+"_share"})),!1})},socialWarfare.findPinterestSaveButton=function(){var e=null;return document.querySelectorAll("span").forEach(function(i,t){var s=a.getComputedStyle(i);"rgb(189, 8, 28)"==s.backgroundColor&&"14px 14px"==s.backgroundSize&&"8675309"==s.zIndex&&(e=i)}),e},socialWarfare.removePinterestButton=function(e){var i=e.nextSibling;if(void 0!==i&&"SPAN"==i.nodeName){var t=a.getComputedStyle(i);0===t.width.indexOf("24px")&&0===t.height.indexOf("24px")&&i.remove()}e.remove()},socialWarfare.checkListeners=function(a,i){if(!(a>i)){var t=e(".swp_social_panel");if(t.length>0&&t.find(".swp_pinterest"))return socialWarfare.handleButtonClicks();setTimeout(function(){socialWarfare.checkListeners(a++,i)},2e3)}},socialWarfare.initSidePosition=function(){if(socialWarfare.panels.side&&socialWarfare.panels.side.length){var i=e(socialWarfare.panels.side).height(),t=e(a).height(),s=parseInt(t/2-i/2);setTimeout(function(){e(socialWarfare.panels.side).animate({top:s},0)},105)}},socialWarfare.establishBreakpoint=function(){var a=e(".swp_social_panel");socialWarfare.breakpoint=1100,(a.length&&a.data("min-width")||0==a.data("min-width"))&&(socialWarfare.breakpoint=parseInt(a.data("min-width")))},socialWarfare.isMobile=function(){return e(a).width()<socialWarfare.breakpoint},socialWarfare.establishPanels=function(){socialWarfare.panels={static:null,side:null,bar:null};var a=e(".swp_social_panel").not(".swp_social_panelSide"),i=e(".swp_social_panelSide");return a&&(socialWarfare.panels.static=a),i&&(socialWarfare.panels.side=i),socialWarfare.panels},socialWarfare.initPlugin=function(){socialWarfare.establishPanels(),socialWarfare.establishBreakpoint(),socialWarfare.handleButtonClicks(),socialWarfare.initShareButtons(),socialWarfare.panels.side&&socialWarfare.initSidePosition()},e(a).on("load",function(){"undefined"!=typeof swpPinIt&&swpPinIt.enabled&&socialWarfare.pinitButton(),a.clearCheckID=0}),e(document).ready(function(){socialWarfare.initPlugin(),setTimeout(function(){socialWarfare.checkListeners(0,5)},2e3)})}(this,jQuery);