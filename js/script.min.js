var socialWarfarePlugin=socialWarfarePlugin||{};(function(window,undefined){var jqThrottle;var swp=window.socialWarfarePlugin;swp.throttle=jqThrottle=function(delay,noTrailing,callback,debounceMode){function wrapper(){function exec(){lastExec=+new Date(),callback.apply(that,args);}function clear(){timeoutID=undefined;}var that=this,elapsed=+new Date()-lastExec,args=arguments;debounceMode&&!timeoutID&&exec(),timeoutID&&clearTimeout(timeoutID),debounceMode===undefined&&elapsed>delay?exec():noTrailing!==!0&&(timeoutID=setTimeout(debounceMode?clear:exec,debounceMode===undefined?delay-elapsed:delay));}var timeoutID,lastExec=0;return typeof noTrailing!=='boolean'&&(debounceMode=callback,callback=noTrailing,noTrailing=undefined),swp.guid&&(wrapper.guid=callback.guid=callback.guid||swp.guid++),wrapper;},swp.debounce=function(delay,atBegin,callback){return callback===undefined?jqThrottle(delay,atBegin,!1):jqThrottle(delay,callback,atBegin!==!1);};}(this),function(window,$,undefined){'use strict';function absint($int){return parseInt($int,10);}function swp_trigger_events(event){var evt=$.Event(event);$(window).trigger(evt);}function swpRestoreSizes(){$('.nc_socialPanel:not(.nc_socialPanelSide) .nc_tweetContainer:not(.swp_nohover) .iconFiller').removeAttr('style'),$('.nc_socialPanel:not(.nc_socialPanelSide) .nc_tweetContainer:not(.swp_nohover)').removeAttr('style');}function createFloatBar(){$('.nc_wrapper').length&&$('.nc_wrapper').remove();var firstSocialPanel=$('.nc_socialPanel').not('[data-float="float_ignore"]').first();var index=$('.nc_socialPanel').index(firstSocialPanel);var floatOption=firstSocialPanel.attr('data-float');var alignment=firstSocialPanel.attr('data-align');if(floatOption){var backgroundColor=$('.nc_socialPanel').attr('data-floatColor');$('<div class="nc_wrapper" style="background-color:'+backgroundColor+'"></div>').appendTo('body');var position=firstSocialPanel.attr('data-float');firstSocialPanel.clone().appendTo('.nc_wrapper'),$('.nc_wrapper').hide().addClass(position=='floatLeft'?'floatBottom':position);var width=firstSocialPanel.outerWidth(!0);var offset=firstSocialPanel.offset();$('.nc_socialPanel').last().addClass('nc_floater').css({width:width,left:alignment=='center'?0:offset.left}),$('.nc_socialPanel .swp_count').css({transition:'padding .1s linear'}),$('.nc_socialPanel').eq(0).addClass('swp_one'),$('.nc_socialPanel').eq(2).addClass('swp_two'),$('.nc_socialPanel').eq(1).addClass('swp_three');}}function floatingBarReveal(){var panels=$('.nc_socialPanel');var floatOption=panels.not('[data-float="float_ignore"]').eq(0).attr('data-float');var windowElement=$(window);var windowHeight=windowElement.height();var ncWrapper=$('.nc_wrapper');var ncSideFloater=$('.nc_socialPanelSide').filter(':not(.mobile)');var position=$('.nc_socialPanel').attr('data-position');var minWidth=ncSideFloater.attr('data-screen-width');var offsetOne=panels.eq(0).offset();var scrollPos=windowElement.scrollTop();var st=$(window).scrollTop();var visible=!1;if(window.swpOffsets===void 0&&(window.swpOffsets={}),floatOption==='floatRight'||floatOption==='floatLeft'){var floatLeftMobile=$('.nc_socialPanelSide').attr('data-mobileFloat');var direction=floatOption.indexOf('Left')!==-1?'left':'right';$('.nc_socialPanel').not('.nc_socialPanelSide').length?($('.nc_socialPanel').not('.nc_socialPanelSide, .nc_floater').each(function(){var thisOffset=$(this).offset();var thisHeight=$(this).height();thisOffset.top+thisHeight>scrollPos&&thisOffset.top<scrollPos+windowHeight&&(visible=!0);}),offsetOne.left<100||$(window).width()<minWidth?(visible=!0,floatLeftMobile=='bottom'&&(floatOption='floatBottom')):visible?visible==1:visible=!1):$(window).width()>minWidth?visible=!1:(visible=!0,floatLeftMobile=='bottom'&&(floatOption='floatBottom'));var transition=ncSideFloater.attr('data-transition');transition=='slide'?visible==1?ncSideFloater.css(direction,'-100px'):ncSideFloater.css(direction,'5px'):transition=='fade'&&(visible==1?ncSideFloater.fadeOut(200):ncSideFloater.fadeIn(200));}if(floatOption=='floatBottom'||floatOption=='floatTop')if(visible=!1,$('.nc_socialPanel').not('.nc_socialPanelSide, .nc_floater').each(function(){var thisOffset=$(this).offset();var thisHeight=$(this).height();thisOffset.top+thisHeight>scrollPos&&thisOffset.top<scrollPos+windowHeight&&(visible=!0);}),visible)ncWrapper.hide(),floatOption=='floatBottom'?$('body').animate({'padding-bottom':window.bodyPaddingBottom+'px'},0):floatOption=='floatTop'&&$('body').animate({'padding-top':window.bodyPaddingTop+'px'},0);else{var newPadding,firstOffset;ncWrapper.show(),swp_trigger_events('floating_bar_revealed'),floatOption=='floatBottom'?(newPadding=window.bodyPaddingBottom+50,$('body').animate({'padding-bottom':newPadding+'px'},0)):floatOption=='floatTop'&&(firstOffset=$('.nc_socialPanel').not('.nc_socialPanelSide, .nc_wrapper .nc_socialPanel').first().offset(),firstOffset.top>scrollPos+windowHeight&&(newPadding=window.bodyPaddingTop+50,$('body').animate({'padding-top':newPadding+'px'},0)));}}function initShareButtons(){0!==$('.nc_socialPanel').length&&(createFloatBar(),swp.activateHoverStates(),handleWindowOpens(),$(window).scrollTop(),$(window).scroll(swp.throttle(50,function(){floatingBarReveal();})),$(window).trigger('scroll'),$('.nc_socialPanel').css({opacity:1}));}function pinitButton(){var defaults={wrap:'<div class="sw-pinit" />',pageURL:document.URL};var options=$.extend(defaults,options);$('.swp-content-locator').parent().find('img').each(function(){var $image=$(this);if($image.outerHeight()<swpPinIt.minHeight||$image.outerWidth()<swpPinIt.minWidth)return;var pinMedia=!1;if(void 0!==swpPinIt.image_source?pinMedia=swpPinIt.image_source:$image.data('media')?pinMedia=$image.data('media'):$(this).attr('data-lazy-src')?pinMedia=$(this).attr('data-lazy-src'):$image[0].src&&(pinMedia=$image[0].src),!1===pinMedia)return;if($image.hasClass('no_pin'))return;var pinDesc='';void 0!==swpPinIt.image_description?pinDesc=swpPinIt.image_description:$image.attr('title')?pinDesc=$image.attr('title'):$image.attr('alt')&&(pinDesc=$image.attr('alt'));var bookmark='http://pinterest.com/pin/create/bookmarklet/?media='+encodeURI(pinMedia)+'&url='+encodeURI(options.pageURL)+'&is_video=false'+'&description='+encodeURIComponent(pinDesc);var imageClasses=$image.attr('class');var imageStyle=$image.attr('style');$image.removeClass().attr('style','').wrap(options.wrap),$image.after('<a href="'+bookmark+'" class="sw-pinit-button sw-pinit-'+swpPinIt.vLocation+' sw-pinit-'+swpPinIt.hLocation+'">Save</a>'),$image.parent('.sw-pinit').addClass(imageClasses).attr('style',imageStyle),$('.sw-pinit .sw-pinit-button').on('click',function(){if(window.open($(this).attr('href'),'Pinterest','width=632,height=253,status=0,toolbar=0,menubar=0,location=1,scrollbars=1'),typeof ga=='function'&&!0===swpClickTracking){var network='pin_image';console.log(network+' Button Clicked'),ga('send','event','social_media','swp_'+network+'_share');}return!1;});});}function handleWindowOpens(){$('.nc_tweet, a.swp_CTT').off('click'),$('.nc_tweet, a.swp_CTT').on('click',function(event){if($(this).hasClass('noPop'))return!1;if(console.log($(this)),$(this).attr('data-link')){event.preventDefault?event.preventDefault():event.returnValue=!1;var href=$(this).attr('data-link');var height,width,top,left,instance,windowFeatures;if(href=href.replace('\u2019',"'"),$(this).hasClass('pinterest')||$(this).hasClass('buffer_link')||$(this).hasClass('flipboard')?(height=550,width=775):(height=270,width=500),top=window.screenY+(window.innerHeight-height)/2,left=window.screenX+(window.innerWidth-width)/2,windowFeatures='height='+height+',width='+width+',top='+top+',left='+left,instance=window.open(href,'_blank',windowFeatures),typeof ga=='function'&&!0===swpClickTracking){if($(this).hasClass('nc_tweet'))var network=$(this).parents('.nc_tweetContainer').attr('data-network');else if($(this).hasClass('swp_CTT'))var network='ctt';console.log(network+' Button Clicked'),ga('send','event','social_media','swp_'+network+'_share');}return!1;}});}var swp=window.socialWarfarePlugin;var swpPostData={};socialWarfarePlugin.fetchShares=function(){$.when($.get('https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id='+swp_post_url),swp_post_recovery_url?$.get('https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id='+swp_post_recovery_url):'').then(function(a,b){if(void 0!==a[0].share){console.log(a);var f1=absint(a[0].share.share_count);var f2=absint(a[0].share.comment_count);if(void 0!==a[0].og_object)var f3=absint(a[0].og_object.likes.summary.total_count);else var f3=0;var fShares=f1+f2+f3;if(swp_post_recovery_url){if(console.log(b),b[0].share!==void 0){var f4=absint(b[0].share.share_count);var f5=absint(b[0].share.comment_count);}else var f4=0,f5=0;if(b[0].og_object!==void 0)var f6=absint(b[0].og_object.likes.summary.total_count);else var f6=0;var fShares2=f4+f5+f6;fShares!==fShares2&&(fShares+=fShares2);}swpPostData={action:'swp_facebook_shares_update',post_id:swp_post_id,activity:fShares},$.post(swp_admin_ajax,swpPostData,function(response){console.log('Facebook Shares Response: '+fShares);});}});},swp.activateHoverStates=function(){swp_trigger_events('pre_activate_buttons'),$('.nc_socialPanel:not(.nc_socialPanelSide) .nc_tweetContainer').on('mouseenter',function(){if(!$(this).hasClass('swp_nohover')){console.log('fired'),swpRestoreSizes();var term_width=$(this).find('.swp_share').outerWidth();var icon_width=$(this).find('i.sw').outerWidth();var container_width=$(this).width();var percentage_change=1+(term_width+35)/container_width;$(this).find('.iconFiller').width(term_width+icon_width+25+'px'),$(this).css({flex:percentage_change+' 1 0%'});}}),$('.nc_socialPanel:not(.nc_socialPanelSide)').on('mouseleave',function(){swpRestoreSizes();});},$(window).on('load',function(){'undefined'!==typeof swpPinIt&&swpPinIt.enabled&&pinitButton();}),$(document).ready(function(){handleWindowOpens(),initShareButtons(),window.bodyPaddingTop=absint($('body').css('padding-top').replace('px','')),window.bodyPaddingBottom=absint($('body').css('padding-bottom').replace('px',''));var swp_hover=!1;if($('.nc_socialPanel').hover(function(){swp_hover=!0;},function(){swp_hover=!1;}),$(window).resize(swp.debounce(250,function(){$('.nc_socialPanel').length&&!1!==swp_hover||(window.swpAdjust=1,initShareButtons());})),$(document.body).on('post-load',function(){initShareButtons();}),0!==$('.nc_socialPanelSide').length){var buttonsHeight=$('.nc_socialPanelSide').height();var windowHeight=$(window).height();var newPosition=absint(windowHeight/2-buttonsHeight/2);setTimeout(function(){$('.nc_socialPanelSide').animate({top:newPosition},0);},105);}1===$('.swp-content-locator').parent().children().length&&$('.swp-content-locator').parent().hide();});}(this,jQuery),function(global,apple_phone,apple_ipod,apple_tablet,android_phone,android_tablet,amazon_phone,amazon_tablet,windows_phone,windows_tablet,other_blackberry,other_blackberry_10,other_opera,other_chrome,other_firefox,seven_inch,match,IsMobileClass,instantiate){apple_phone=/iPhone/i,apple_ipod=/iPod/i,apple_tablet=/iPad/i,android_phone=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,android_tablet=/Android/i,amazon_phone=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,amazon_tablet=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,windows_phone=/Windows Phone/i,windows_tablet=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,other_blackberry=/BlackBerry/i,other_blackberry_10=/BB10/i,other_opera=/Opera Mini/i,other_chrome=/(CriOS|Chrome)(?=.*\bMobile\b)/i,other_firefox=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,seven_inch=new RegExp('(?:'+'Nexus 7'+'|'+'BNTV250'+'|'+'Kindle Fire'+'|'+'Silk'+'|'+'GT-P1000'+')','i'),match=function(regex,userAgent){return regex.test(userAgent);},IsMobileClass=function(userAgent){var ua=userAgent||navigator.userAgent;var tmp=ua.split('[FBAN');return tmp[1]!==void 0&&(ua=tmp[0]),tmp=ua.split('Twitter'),tmp[1]!==void 0&&(ua=tmp[0]),this.apple={phone:match(apple_phone,ua),ipod:match(apple_ipod,ua),tablet:!match(apple_phone,ua)&&match(apple_tablet,ua),device:match(apple_phone,ua)||match(apple_ipod,ua)||match(apple_tablet,ua)},this.amazon={phone:match(amazon_phone,ua),tablet:!match(amazon_phone,ua)&&match(amazon_tablet,ua),device:match(amazon_phone,ua)||match(amazon_tablet,ua)},this.android={phone:match(amazon_phone,ua)||match(android_phone,ua),tablet:!match(amazon_phone,ua)&&!match(android_phone,ua)&&(match(amazon_tablet,ua)||match(android_tablet,ua)),device:match(amazon_phone,ua)||match(amazon_tablet,ua)||match(android_phone,ua)||match(android_tablet,ua)},this.windows={phone:match(windows_phone,ua),tablet:match(windows_tablet,ua),device:match(windows_phone,ua)||match(windows_tablet,ua)},this.other={blackberry:match(other_blackberry,ua),blackberry10:match(other_blackberry_10,ua),opera:match(other_opera,ua),firefox:match(other_firefox,ua),chrome:match(other_chrome,ua),device:match(other_blackberry,ua)||match(other_blackberry_10,ua)||match(other_opera,ua)||match(other_firefox,ua)||match(other_chrome,ua)},this.seven_inch=match(seven_inch,ua),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,typeof window==='undefined'?this:void 0;},instantiate=function(){var IM=new IsMobileClass();return IM.Class=IsMobileClass,IM;},typeof module!=='undefined'&&module.exports&&typeof window==='undefined'?module.exports=IsMobileClass:typeof module!=='undefined'&&module.exports&&typeof window!=='undefined'?module.exports=instantiate():typeof define==='function'&&define.amd?define('swp_isMobile',[],global.swp_isMobile=instantiate()):global.swp_isMobile=instantiate();}(this));