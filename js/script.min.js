var socialWarfarePlugin=socialWarfarePlugin||{};!function(t,e){var i,o=t.socialWarfarePlugin;o.throttle=i=function(t,i,a,n){function s(){function o(){r=+new Date,a.apply(c,p)}function s(){l=e}var c=this,d=+new Date-r,p=arguments;n&&!l&&o(),l&&clearTimeout(l),n===e&&d>t?o():!0!==i&&(l=setTimeout(n?s:o,n===e?t-d:t))}var l,r=0;return"boolean"!=typeof i&&(n=a,a=i,i=e),o.guid&&(s.guid=a.guid=a.guid||o.guid++),s},o.debounce=function(t,o,a){return a===e?i(t,o,!1):i(t,a,!1!==o)}}(this),function(t,e,i){"use strict";function o(t){return parseInt(t,10)}function a(i){var o=e.Event(i);e(t).trigger(o)}function n(){e(".nc_socialPanel:not(.nc_socialPanelSide) .nc_tweetContainer:not(.swp_nohover) .iconFiller").removeAttr("style"),e(".nc_socialPanel:not(.nc_socialPanelSide) .nc_tweetContainer:not(.swp_nohover)").removeAttr("style")}function s(){e(".nc_wrapper").length&&e(".nc_wrapper").remove();var i=e(".nc_socialPanel").not('[data-float="float_ignore"]').first(),o=(e(".nc_socialPanel").index(i),i.attr("data-float")),a=i.attr("data-align");if(o){if(e(".nc_socialPanel").not(".nc_socialPanelSide").length){var n=e(".nc_socialPanelSide").attr("data-mobileFloat"),s=i.offset(),l=e(".nc_socialPanelSide").filter(":not(.mobile)"),r=l.attr("data-screen-width");if(s.left<100||e(t).width()<r){console.log("test");var c="float"+n.charAt(0).toUpperCase()+n.slice(1)}else var c=o}else var c=o;var d=e(".nc_socialPanel").attr("data-floatColor");e('<div class="nc_wrapper" style="background-color:'+d+'"></div>').appendTo("body"),i.clone().appendTo(".nc_wrapper"),e(".nc_wrapper").hide().addClass(c);var p=i.outerWidth(!0),f=i.offset();e(".nc_socialPanel").last().addClass("nc_floater").css({width:p,left:"center"==a?0:f.left}),e(".nc_socialPanel .swp_count").css({transition:"padding .1s linear"}),e(".nc_socialPanel").eq(0).addClass("swp_one"),e(".nc_socialPanel").eq(2).addClass("swp_two"),e(".nc_socialPanel").eq(1).addClass("swp_three")}}function l(){var i=e(".nc_socialPanel"),o=i.not('[data-float="float_ignore"]').eq(0).attr("data-float"),n=e(t),s=n.height(),l=e(".nc_wrapper"),r=e(".nc_socialPanelSide").filter(":not(.mobile)"),c=(e(".nc_socialPanel").attr("data-position"),r.attr("data-screen-width")),d=i.eq(0).offset(),p=n.scrollTop(),f=(e(t).scrollTop(),!1);if(void 0===t.swpOffsets&&(t.swpOffsets={}),"floatRight"===o||"floatLeft"===o){var h=e(".nc_socialPanelSide").attr("data-mobileFloat"),u=-1!==o.indexOf("Left")?"left":"right";e(".nc_socialPanel").not(".nc_socialPanelSide").length?(e(".nc_socialPanel").not(".nc_socialPanelSide, .nc_floater").each(function(){var t=e(this).offset(),i=e(this).height();t.top+i>p&&t.top<p+s&&(f=!0)}),d.left<100||e(t).width()<c?(f=!0,"bottom"==h?o="floatBottom":"top"==h&&(o="floatTop")):f||(f=!1)):e(t).width()>c?f=!1:(f=!0,"bottom"==h?o="floatBottom":"top"==h&&(o="floatTop"));var _=r.attr("data-transition");"slide"==_?1==f?r.css(u,"-100px"):r.css(u,"5px"):"fade"==_&&(1==f?r.fadeOut(200):r.fadeIn(200))}if("floatBottom"==o||"floatTop"==o)if(f=!1,e(".nc_socialPanel").not(".nc_socialPanelSide, .nc_floater").each(function(){var t=e(this).offset(),i=e(this).height();t.top+i>p&&t.top<p+s&&(f=!0)}),f)l.hide(),"floatBottom"==o?e("body").animate({"padding-bottom":t.bodyPaddingBottom+"px"},0):"floatTop"==o&&e("body").animate({"padding-top":t.bodyPaddingTop+"px"},0);else{var w,v;l.show(),a("floating_bar_revealed"),"floatBottom"==o?(w=t.bodyPaddingBottom+50,e("body").animate({"padding-bottom":w+"px"},0)):"floatTop"==o&&(v=e(".nc_socialPanel").not(".nc_socialPanelSide, .nc_wrapper .nc_socialPanel").first().offset(),v.top>p+s&&(w=t.bodyPaddingTop+50,e("body").animate({"padding-top":w+"px"},0)))}}function r(){0!==e(".nc_socialPanel").length&&(s(),p.activateHoverStates(),d(),e(t).scrollTop(),e(t).scroll(p.throttle(50,function(){l()})),e(t).trigger("scroll"),e(".nc_socialPanel").css({opacity:1}))}function c(){var i={wrap:'<div class="sw-pinit" />',pageURL:document.URL},o=e.extend(i,o);e(".swp-content-locator").parent().find("img").each(function(){var i=e(this);if(!(i.outerHeight()<swpPinIt.minHeight||i.outerWidth()<swpPinIt.minWidth)){var a=!1;if(void 0!==swpPinIt.image_source?a=swpPinIt.image_source:i.data("media")?a=i.data("media"):e(this).attr("data-lazy-src")?a=e(this).attr("data-lazy-src"):i[0].src&&(a=i[0].src),!1!==a&&!i.hasClass("no_pin")){var n="";void 0!==swpPinIt.image_description?n=swpPinIt.image_description:i.attr("title")?n=i.attr("title"):i.attr("alt")&&(n=i.attr("alt"));var s="http://pinterest.com/pin/create/bookmarklet/?media="+encodeURI(a)+"&url="+encodeURI(o.pageURL)+"&is_video=false&description="+encodeURIComponent(n),l=i.attr("class"),r=i.attr("style");i.removeClass().attr("style","").wrap(o.wrap),i.after('<a href="'+s+'" class="sw-pinit-button sw-pinit-'+swpPinIt.vLocation+" sw-pinit-"+swpPinIt.hLocation+'">Save</a>'),i.parent(".sw-pinit").addClass(l).attr("style",r),e(".sw-pinit .sw-pinit-button").on("click",function(){if(t.open(e(this).attr("href"),"Pinterest","width=632,height=253,status=0,toolbar=0,menubar=0,location=1,scrollbars=1"),"function"==typeof ga&&!0===swpClickTracking){console.log("pin_image Button Clicked"),ga("send","event","social_media","swp_pin_image_share")}return!1})}}})}function d(){e(".nc_tweet, a.swp_CTT").off("click"),e(".nc_tweet, a.swp_CTT").on("click",function(i){if(e(this).hasClass("noPop"))return!1;if(console.log(e(this)),e(this).attr("data-link")){i.preventDefault?i.preventDefault():i.returnValue=!1;var o,a,n,s,l,r=e(this).attr("data-link");if(r=r.replace("â€™","'"),e(this).hasClass("pinterest")||e(this).hasClass("buffer_link")||e(this).hasClass("flipboard")?(o=550,a=775):(o=270,a=500),n=t.screenY+(t.innerHeight-o)/2,s=t.screenX+(t.innerWidth-a)/2,l="height="+o+",width="+a+",top="+n+",left="+s,t.open(r,"_blank",l),"function"==typeof ga&&!0===swpClickTracking){if(e(this).hasClass("nc_tweet"))var c=e(this).parents(".nc_tweetContainer").attr("data-network");else if(e(this).hasClass("swp_CTT"))var c="ctt";console.log(c+" Button Clicked"),ga("send","event","social_media","swp_"+c+"_share")}return!1}})}var p=t.socialWarfarePlugin,f={};socialWarfarePlugin.fetchShares=function(){e.when(e.get("https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_url),swp_post_recovery_url?e.get("https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_recovery_url):"").then(function(t,i){if(void 0!==t[0].share){console.log(t);var a=o(t[0].share.share_count),n=o(t[0].share.comment_count);if(void 0!==t[0].og_object)var s=o(t[0].og_object.likes.summary.total_count);else var s=0;var l=a+n+s;if(swp_post_recovery_url){if(console.log(i),void 0!==i[0].share)var r=o(i[0].share.share_count),c=o(i[0].share.comment_count);else var r=0,c=0;if(void 0!==i[0].og_object)var d=o(i[0].og_object.likes.summary.total_count);else var d=0;var p=r+c+d;l!==p&&(l+=p)}f={action:"swp_facebook_shares_update",post_id:swp_post_id,activity:l},e.post(swp_admin_ajax,f,function(t){console.log("Facebook Shares Response: "+l)})}})},p.activateHoverStates=function(){a("pre_activate_buttons"),e(".nc_socialPanel:not(.nc_socialPanelSide) .nc_tweetContainer").on("mouseenter",function(){if(e(this).hasClass("swp_nohover"));else{console.log("fired"),n();var t=e(this).find(".swp_share").outerWidth(),i=e(this).find("i.sw").outerWidth(),o=e(this).width(),a=1+(t+35)/o;e(this).find(".iconFiller").width(t+i+25+"px"),e(this).css({flex:a+" 1 0%"})}}),e(".nc_socialPanel:not(.nc_socialPanelSide)").on("mouseleave",function(){n()})},e(t).on("load",function(){"undefined"!=typeof swpPinIt&&swpPinIt.enabled&&c()}),e(document).ready(function(){d(),r();var i=e(".nc_socialPanelSide");t.bodyPaddingTop=o(e("body").css("padding-top").replace("px","")),t.bodyPaddingBottom=o(e("body").css("padding-bottom").replace("px",""));var a=!1;if(e(".nc_socialPanel").hover(function(){a=!0},function(){a=!1}),e(t).resize(p.debounce(250,function(){e(".nc_socialPanel").length&&!1!==a||(t.swpAdjust=1,r())})),e(document.body).on("post-load",function(){r()}),0!==i.length){if(-1!==e(i).attr("class").indexOf("swp_side"))return;var n=e(i).height(),s=e(t).height(),l=o(s/2-n/2);setTimeout(function(){e(i).animate({top:l},0)},105)}1===e(".swp-content-locator").parent().children().length&&e(".swp-content-locator").parent().hide()})}(this,jQuery),function(t){var e=/iPhone/i,i=/iPod/i,o=/iPad/i,a=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,n=/Android/i,s=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,l=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,r=/Windows Phone/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,d=/BlackBerry/i,p=/BB10/i,f=/Opera Mini/i,h=/(CriOS|Chrome)(?=.*\bMobile\b)/i,u=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,_=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),w=function(t,e){return t.test(e)},v=function(t){var v=t||navigator.userAgent,b=v.split("[FBAN");if(void 0!==b[1]&&(v=b[0]),b=v.split("Twitter"),void 0!==b[1]&&(v=b[0]),this.apple={phone:w(e,v),ipod:w(i,v),tablet:!w(e,v)&&w(o,v),device:w(e,v)||w(i,v)||w(o,v)},this.amazon={phone:w(s,v),tablet:!w(s,v)&&w(l,v),device:w(s,v)||w(l,v)},this.android={phone:w(s,v)||w(a,v),tablet:!w(s,v)&&!w(a,v)&&(w(l,v)||w(n,v)),device:w(s,v)||w(l,v)||w(a,v)||w(n,v)},this.windows={phone:w(r,v),tablet:w(c,v),device:w(r,v)||w(c,v)},this.other={blackberry:w(d,v),blackberry10:w(p,v),opera:w(f,v),firefox:w(u,v),chrome:w(h,v),device:w(d,v)||w(p,v)||w(f,v)||w(u,v)||w(h,v)},this.seven_inch=w(_,v),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},b=function(){var t=new v;return t.Class=v,t};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=v:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=b():"function"==typeof define&&define.amd?define("swp_isMobile",[],t.swp_isMobile=b()):t.swp_isMobile=b()}(this);