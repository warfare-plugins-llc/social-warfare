/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
var socialWarfarePlugin=socialWarfarePlugin||{};(function(c,d){var b;var a=c.socialWarfarePlugin;a.throttle=b=function(g,f,k,h){var i,e=0;if(typeof f!=="boolean"){h=k;k=f;f=d}function j(){var p=this,n=+new Date()-e,o=arguments;function m(){e=+new Date();k.apply(p,o)}function l(){i=d}if(h&&!i){m()}i&&clearTimeout(i);if(h===d&&n>g){m()}else{if(f!==true){i=setTimeout(h?l:m,h===d?g-n:g)}}}if(a.guid){j.guid=k.guid=k.guid||a.guid++}return j};a.debounce=function(e,f,g){return g===d?b(e,f,false):b(e,g,f!==false)}})(this);(function(j,e,g){var o=j.socialWarfarePlugin;function m(s){return parseInt(s,10)}function n(t){var s=e.Event(t);e(j).trigger(s)}var h={};socialWarfarePlugin.fetchFacebookShares=function(){e.when(e.get("https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_url),(swp_post_recovery_url?e.get("https://graph.facebook.com/?fields=og_object{likes.summary(true).limit(0)},share&id="+swp_post_recovery_url):"")).then(function(B,A){if("undefined"!==typeof B[0].share){var z=m(B[0].share.share_count);var y=m(B[0].share.comment_count);if("undefined"!==typeof B[0].og_object){var x=m(B[0].og_object.likes.summary.total_count)}else{var x=0}var s=z+y+x;if(swp_post_recovery_url){if(typeof A[0].share!=="undefined"){var w=m(A[0].share.share_count);var v=m(A[0].share.comment_count)}else{var w=0,v=0}if(typeof A[0].og_object!=="undefined"){var t=m(A[0].og_object.likes.summary.total_count)}else{var t=0}var u=w+v+t;if(s!==u){s=s+u}}h={action:"swp_facebook_shares_update",post_id:swp_post_id,share_counts:s};e.post(swp_admin_ajax,h)}})};o.activateHoverStates=function(){n("pre_activate_buttons");e(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer").on("mouseenter",function(){if(!e(this).hasClass("swp_nohover")){r();var u=e(this).find(".swp_share").outerWidth();var t=e(this).find("i.sw").outerWidth();var v=e(this).width();var s=1+((u+35)/v);e(this).find(".iconFiller").width(u+t+25+"px");e(this).css({flex:s+" 1 0%"})}});e(".swp_social_panel:not(.swp_social_panelSide)").on("mouseleave",function(){r()})};function r(){e(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover) .iconFiller").removeAttr("style");e(".swp_social_panel:not(.swp_social_panelSide) .nc_tweetContainer:not(.swp_nohover)").removeAttr("style")}function d(){var s=e(".swp_social_panel").not(".swp_social_panelSide").first();var t=false;var u=e(j).scrollTop();e(".swp_social_panel").not(".swp_social_panelSide, .nc_floater").each(function(v){var w=e(this).offset();if(typeof swpFloatBeforeContent!="undefined"&&false===swpFloatBeforeContent){if(v===0&&w.top>u){t=true}}if(w.top+e(this).height()>u&&w.top<u+e(j).height()){t=true}});return t}function l(){var s=e(".swp_social_panel").not(".swp_social_panelSide").first();if(typeof s=="undefined"){return}if(e(j).width()>s.data("min-width"&&s.data("float")!="top"&&s.data("float")!="bottom")){return}var w=s.offset();var y=s.data("float-color");var v=s.data("align")=="center"?0:w.left;var t=e('<div class="nc_wrapper" style="background-color:'+y+'"></div>');var B=m(e("body").css("padding-top").replace("px",""));var u=m(e("body").css("padding-bottom").replace("px",""));var z=s.data("float");if(e(j).width()<s.data("min-width")){z=s.data("float-mobile")}if(w.left<100||e(j).width()<s.data("min-width")){z=s.data("float-mobile")}if(e(".nc_wrapper").length){e(".nc_wrapper").remove()}t.addClass(z).hide().appendTo("body");var x=s.clone();x.addClass("nc_floater").css({width:s.outerWidth(true),left:v}).appendTo(t);e(".swp_social_panel .swp_count").css({transition:"padding .1s linear"});if(d()){if(z=="bottom"){e("body").animate({"padding-bottom":u+"px"},0)}else{e("body").animate({"padding-top":B+"px"},0)}}else{var A;if(z=="bottom"){A=u+50;e("body").animate({"padding-bottom":A+"px"},0)}else{if(s.offset().top>e(j).scrollTop()+e(j).height()){A=B+50;e("body").animate({"padding-top":A+"px"},0)}}}}function c(){var t=e(".swp_social_panel").first();var s=t.data("float");if(e(j).width()<t.data("min-width")){if(!e(".nc_wrapper").length){l()}b();i()}if(s=="right"||s=="left"){k()}if(s=="bottom"||s=="top"){i()}}function b(){var u=e(".swp_social_panel").first();var t=u.data("float-mobile");var v=(t.indexOf("left")!==-1)?"left":"right";var s=d()?"collapse":"visible";e(".swp_social_panelSide").hide();e(".nc_wrapper").css("visibility",s)}function k(){var t=e(".swp_social_panel").not(".swp_social_panelSide").first();var u=e(".swp_social_panelSide").filter(":not(.mobile)");var s=t.data("float");var w=d();if(!t.length){if(e(j).width()>minWidth){w=false}else{w=true}}if(u.data("transition")=="slide"){var v=(s.indexOf("left")!==-1)?"left":"right";if(w){u.css(v,"-150px")}else{u.css(v,"5px")}}else{if(w){u.fadeOut(200)}else{u.fadeIn(200).css("display","flex")}}}function i(){d()?e(".nc_wrapper").fadeOut("slow"):e(".nc_wrapper").fadeIn("fast")}function q(){var t=jQuery("[class*=float-position-center]");if(!t.length){return}var s=t.outerHeight();var v=j.innerHeight;if(s>v){t.css("top",0);return}var u=(v-s)/2;t.css("top",u)}function a(){if(0!==e(".swp_social_panel").length){l();q();o.activateHoverStates();p();e(j).scrollTop();e(j).scroll(o.throttle(50,function(){c()}));e(j).trigger("scroll")}}function f(){var t={wrap:'<div class="sw-pinit" />',pageURL:document.URL};var s=e.extend(t,s);e(".swp-content-locator").parent().find("img").each(function(){var w=e(this);if(w.outerHeight()<swpPinIt.minHeight||w.outerWidth()<swpPinIt.minWidth){return}var x=false;if("undefined"!==typeof swpPinIt.image_source){x=swpPinIt.image_source}else{if(w.data("media")){x=w.data("media")}else{if(e(this).data("lazy-src")){x=e(this).data("lazy-src")}else{if(w[0].src){x=w[0].src}}}}if(false===x){return}if(w.hasClass("no_pin")){return}var z="";if("undefined"!==typeof swpPinIt.image_description){z=swpPinIt.image_description}else{if(w.attr("title")){z=w.attr("title")}else{if(w.attr("alt")){z=w.attr("alt")}}}var v="http://pinterest.com/pin/create/bookmarklet/?media="+encodeURI(x)+"&url="+encodeURI(s.pageURL)+"&is_video=false&description="+encodeURIComponent(z);var y=w.attr("class");var u=w.attr("style");w.removeClass().attr("style","").wrap(s.wrap);w.after('<a href="'+v+'" class="sw-pinit-button sw-pinit-'+swpPinIt.vLocation+" sw-pinit-"+swpPinIt.hLocation+'">Save</a>');w.parent(".sw-pinit").addClass(y).attr("style",u);e(".sw-pinit .sw-pinit-button").on("click",function(){j.open(e(this).attr("href"),"Pinterest","width=632,height=253,status=0,toolbar=0,menubar=0,location=1,scrollbars=1");if(true===swpClickTracking){var A="pin_image";if("function"==typeof ga){ga("send","event","social_media","swp_"+A+"_share")}if("object"==typeof dataLayer){dataLayer.push({event:"swp_"+A+"_share"})}}return false})})}function p(){e(".nc_tweet, a.swp_CTT").off("click");e(".nc_tweet, a.swp_CTT").on("click",function(s){if(e(this).hasClass("noPop")){return false}if(e(this).data("link")){s.preventDefault?s.preventDefault():(s.returnValue=false);var t=e(this).data("link");var A,u,y,w,z,x;t=t.replace("â€™","'");if(e(this).hasClass("pinterest")||e(this).hasClass("buffer_link")||e(this).hasClass("flipboard")){A=550;u=775}else{A=270;u=500}y=j.screenY+(j.innerHeight-A)/2;w=j.screenX+(j.innerWidth-u)/2;x="height="+A+",width="+u+",top="+y+",left="+w;z=j.open(t,"_blank",x);if(true==swpClickTracking){if(e(this).hasClass("nc_tweet")){var v=e(this).parents(".nc_tweetContainer").attr("data-network")}else{if(e(this).hasClass("swp_CTT")){var v="ctt"}}if(typeof ga=="function"&&true){ga("send","event","social_media","swp_"+v+"_share")}if("object"==typeof dataLayer){dataLayer.push({event:"swp_"+v+"_share"})}}return false}})}e(j).on("load",function(){if("undefined"!==typeof swpPinIt&&swpPinIt.enabled){f()}});e(document).ready(function(){p();a();var v=e(".swp_social_panelSide");var u=false;e(".swp_social_panel").hover(function(){u=true},function(){u=false});e(j).resize(o.debounce(250,function(){if(e(".swp_social_panel").length&&false!==u){}else{j.swpAdjust=1;a()}}));e(document.body).on("post-load",function(){a()});if(0!==v.length){if(e(v).attr("class").indexOf("swp_side")!==-1){return}var s=e(v).height();var w=e(j).height();var t=m((w/2)-(s/2));setTimeout(function(){e(v).animate({top:t},0)},105)}if(1===e(".swp-content-locator").parent().children().length){e(".swp-content-locator").parent().hide()}})})(this,jQuery);(function(k){var b=/iPhone/i,m=/iPod/i,j=/iPad/i,o=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,p=/Android/i,l=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,h=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,g=/Windows Phone/i,q=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,n=/BlackBerry/i,a=/BB10/i,c=/Opera Mini/i,d=/(CriOS|Chrome)(?=.*\bMobile\b)/i,s=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,i=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i");var f=function(t,u){return t.test(u)};var e=function(v){var u=v||navigator.userAgent;var t=u.split("[FBAN");if(typeof t[1]!=="undefined"){u=t[0]}t=u.split("Twitter");if(typeof t[1]!=="undefined"){u=t[0]}this.apple={phone:f(b,u),ipod:f(m,u),tablet:!f(b,u)&&f(j,u),device:f(b,u)||f(m,u)||f(j,u)};this.amazon={phone:f(l,u),tablet:!f(l,u)&&f(h,u),device:f(l,u)||f(h,u)};this.android={phone:f(l,u)||f(o,u),tablet:!f(l,u)&&!f(o,u)&&(f(h,u)||f(p,u)),device:f(l,u)||f(h,u)||f(o,u)||f(p,u)};this.windows={phone:f(g,u),tablet:f(q,u),device:f(g,u)||f(q,u)};this.other={blackberry:f(n,u),blackberry10:f(a,u),opera:f(c,u),firefox:f(s,u),chrome:f(d,u),device:f(n,u)||f(a,u)||f(c,u)||f(s,u)||f(d,u)};this.seven_inch=f(i,u);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if(typeof window==="undefined"){return this}};var r=function(){var t=new e();t.Class=e;return t};if(typeof module!=="undefined"&&module.exports&&typeof window==="undefined"){module.exports=e}else{if(typeof module!=="undefined"&&module.exports&&typeof window!=="undefined"){module.exports=r()}else{if(typeof define==="function"&&define.amd){define("swp_isMobile",[],k.swp_isMobile=r())}else{k.swp_isMobile=r()}}}})(this);