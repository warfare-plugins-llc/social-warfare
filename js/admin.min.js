var socialWarfareAdmin=socialWarfareAdmin||{};var swpWidget,widgetSubmit;function swpConditionalFields(){function c(d){return jQuery('select[name="'+d+'"]').val()}function a(d){return jQuery('[name="'+d+'"]').prop("checked")}function b(d){if(d==="true"){d=true}if(d==="false"){d=false}return d}jQuery("[data-dep]").each(function(){var g=jQuery(this).data("dep");var f=JSON.parse(JSON.stringify(jQuery(this).data("dep_val")));if(window.location.href.indexOf("page=social-warfare")===-1){var d=jQuery(this).parents(".widgets-holder-wrap").find('[data-swp-name="'+g+'"]')}else{var d=jQuery('[name="'+g+'"]')[0]}var e;if(typeof d==="undefined"){d=jQuery('[name="'+g+'"]')[0];if(typeof d==="undefined"){d=jQuery("[fieldjQuery="+g+"]")[0]}}if(jQuery(d).attr("type")=="checkbox"){e=jQuery(d).prop("checked")}else{e=jQuery(d).val()}e=b(e);if(window.location.href.indexOf("page=social-warfare")!==-1){if(jQuery.inArray(e,f)!==-1&&jQuery(d).parent(".sw-grid").is(":visible")){jQuery(this).show()}else{jQuery(this).hide()}}else{if(jQuery.inArray(e,f)!==-1||e===f){jQuery(this).show()}else{jQuery(this).hide()}}});if(false===a("float_style_source")&&"custom_color"===c("float_default_colors")||"custom_color_outlines"===c("float_default_colors")||"custom_color"===c("float_single_colors")||"custom_color_outlines"===c("float_single_colors")||"custom_color"===c("float_hover_colors")||"custom_color_outlines"===c("float_hover_colors")){jQuery(".sideCustomColor_wrapper").slideDown()}else{jQuery(".sideCustomColor_wrapper").slideUp()}}if(window.location.href.indexOf("widgets.php")>-1){var widgetFinder=setInterval(function(){if(typeof swpWidget!=="undefined"){clearInterval(widgetFinder)}swpWidget=jQuery("#widgets-right [id*=_swp_popular_posts_widget], [id*=_swp_popular_posts_widget].open")[0];widgetSubmit=jQuery(swpWidget).find("[idjQuery=savewidget]")[0];jQuery(swpWidget).on("click",swpConditionalFields);jQuery(widgetSubmit).on("click",function(){setTimeout(swpConditionalFields,600)})},50)}(function(f,i,c){socialWarfareAdmin.linkLength=function(j){var l="";for(var k=0;k<23;k++){l+="o"}return j.replace(/(http:\/\/[\S]*)/g,l).length};function a(){var j=i("#social_warfare textarea#swp_og_title").val();var k=60-j.length;if(j.length>0&&k>=0){i("#social_warfare .swp_og_title .swp_CountDown").removeClass("swp_red").addClass("swp_blue")}else{if(j.length>0&&k<0){i("#social_warfare .swp_og_title .swp_CountDown").removeClass("swp_blue").addClass("swp_red")}else{i("#social_warfare .swp_og_title .swp_CountDown").removeClass("swp_blue").removeClass("swp_red")}}i("#social_warfare .swp_og_title .counterNumber").html(k)}function g(){var k=i("#social_warfare textarea#swp_og_description").val();var j=160-k.length;if(k.length>0&&j>=0){i("#social_warfare .swp_og_description .swp_CountDown").removeClass("swp_red").addClass("swp_blue")}else{if(k.length>0&&j<0){i("#social_warfare .swp_og_description .swp_CountDown").removeClass("swp_blue").addClass("swp_red")}else{i("#social_warfare .swp_og_description .swp_CountDown").removeClass("swp_blue").removeClass("swp_red")}}i("#social_warfare .swp_og_description .counterNumber").html(j)}function b(){var j=i("#social_warfare textarea#swp_pinterest_description").val();if(!j){j=""}var k=500-j.length;if(j.length>0&&k>=0){i("#social_warfare .swp_pinterest_descriptionWrapper .swp_CountDown").removeClass("swp_red").addClass("swp_blue")}else{if(j.length>0&&k<0){i("#social_warfare .swp_pinterest_descriptionWrapper .swp_CountDown").removeClass("swp_blue").addClass("swp_red")}else{i("#social_warfare .swp_pinterest_descriptionWrapper .swp_CountDown").removeClass("swp_blue").removeClass("swp_red")}}i("#social_warfare .swp_pinterest_descriptionWrapper .counterNumber").html(k)}function h(){var k=i("#social_warfare textarea#swp_custom_tweet").val();var m=i("#social_warfare .twitterIDWrapper label").html();var l;if(k.indexOf("http")>-1||k.indexOf("https")>-1){l=0;i(".tweetLinkSection").css({"text-decoration":"line-through"})}else{l=23;i(".tweetLinkSection").css({"text-decoration":"none"})}var j;if("undefined"===typeof m){j=280-socialWarfareAdmin.linkLength(k)-l}else{j=280-socialWarfareAdmin.linkLength(k)-l-m.length-6}if(k.length>0&&j>=0){i("#social_warfare .swp_customTweetWrapper .swp_CountDown").removeClass("swp_red").addClass("swp_blue")}else{if(k.length>0&&j<0){i("#social_warfare .swp_customTweetWrapper .swp_CountDown").removeClass("swp_blue").addClass("swp_red")}else{i("#social_warfare .swp_customTweetWrapper .swp_CountDown").removeClass("swp_blue").removeClass("swp_red")}}i("#social_warfare .swp_customTweetWrapper .counterNumber").html(j)}function e(j){if(typeof j==="undefined"){j=true}if(j){i(".custom_thumb_size").show()}else{i(".custom_thumb_size").hide()}}function d(){i(".swp-notice-cta").on("click",function(k){k.preventDefault();var j=i(this).parents(".swp-dismiss-notice");i.post({url:ajaxurl,data:{action:"dismiss",key:j.data("key"),timeframe:this.dataset.timeframe},success:function(l){l=JSON.parse(l);if(l){j.slideUp(500)}}})})}i(document).ready(function(){d();if(i("#social_warfare.postbox").length){i("#social_warfare #swp_og_title").parent().prepend('<div class="swp_CountDown"><span class="counterNumber">60</span> '+swp_localize_admin.swp_characters_remaining+"</div>");i("#social_warfare #swp_og_description").parent().prepend('<div class="swp_CountDown"><span class="counterNumber">150</span> '+swp_localize_admin.swp_characters_remaining+"</div>");i("#social_warfare #swp_customTweet").parent().prepend('<div class="swp_CountDown"><span class="counterNumber">118</span> '+swp_localize_admin.swp_characters_remaining+"</div>");i("#social_warfare #swp_pinterest_description").parent().prepend('<div class="swp_CountDown"><span class="counterNumber">140</span> '+swp_localize_admin.swp_characters_remaining+"</div>");a();i("#social_warfare textarea#swp_og_title").on("input",function(){a()});g();i("#social_warfare textarea#swp_og_description").on("input",function(){g()});h();i("#social_warfare textarea#swp_customTweet").on("input",function(){h()});b();i("#social_warfare textarea#swp_pinterest_description").on("input",function(){b()});var j=setInterval(function(){var n=i(".swp_og_imageWrapper ul.swpmb-media-list");var l=i(".swp_pinterest_imageWrapper ul.swpmb-media-list");var p,o;if(n.length&&n.is(":empty")){p=n.width();o=p*(9/16);n.css({height:o+"px"})}else{o=n.find("img").height();n.css({height:o+"px"})}var k,m;if(l.length&&l.is(":empty")){k=l.width();m=k*(3/2);l.css({height:m+"px"})}else{m=l.find("img").height();l.css({height:m+"px"})}},1000)}swpConditionalFields();i(".swp_popular_post_options select").on("change",function(){swpConditionalFields()})})})(this,jQuery);