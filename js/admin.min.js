var socialWarfareAdmin=socialWarfareAdmin||{};var swpWidget,widgetSubmit;function swpConditionalFields(){function c(d){return jQuery('select[name="'+d+'"]').val()}function a(d){return jQuery('[name="'+d+'"]').prop("checked")}function b(d){if(d==="true"){d=true}if(d==="false"){d=false}return d}jQuery("[data-dep]").each(function(){var g=jQuery(this).data("dep");var f=JSON.parse(JSON.stringify(jQuery(this).data("dep_val")));if(window.location.href.indexOf("page=social-warfare")===-1){var d=jQuery(this).parents(".widgets-holder-wrap").find('[data-swp-name="'+g+'"]')}else{var d=jQuery('[name="'+g+'"]')[0]}var e;if(typeof d==="undefined"){d=jQuery('[name="'+g+'"]')[0];if(typeof d==="undefined"){d=jQuery("[fieldjQuery="+g+"]")[0]}}if(jQuery(d).attr("type")=="checkbox"){e=jQuery(d).prop("checked")}else{e=jQuery(d).val()}e=b(e);if(window.location.href.indexOf("page=social-warfare")!==-1){if(jQuery.inArray(e,f)!==-1&&jQuery(d).parent(".sw-grid").is(":visible")){jQuery(this).show()}else{jQuery(this).hide()}}else{if(jQuery.inArray(e,f)!==-1||e===f){jQuery(this).show()}else{jQuery(this).hide()}}});if(false===a("float_style_source")&&"custom_color"===c("float_default_colors")||"custom_color_outlines"===c("float_default_colors")||"custom_color"===c("float_single_colors")||"custom_color_outlines"===c("float_single_colors")||"custom_color"===c("float_hover_colors")||"custom_color_outlines"===c("float_hover_colors")){jQuery(".sideCustomColor_wrapper").slideDown()}else{jQuery(".sideCustomColor_wrapper").slideUp()}}if(window.location.href.indexOf("widgets.php")>-1){var widgetFinder=setInterval(function(){if(typeof swpWidget!=="undefined"){clearInterval(widgetFinder)}swpWidget=jQuery("#widgets-right [id*=_swp_popular_posts_widget], [id*=_swp_popular_posts_widget].open")[0];widgetSubmit=jQuery(swpWidget).find("[idjQuery=savewidget]")[0];jQuery(swpWidget).on("click",swpConditionalFields);jQuery(widgetSubmit).on("click",function(){setTimeout(swpConditionalFields,600)})},50)}(function(d,e,g){socialWarfareAdmin.linkLength=function(h){var k="";for(var j=0;j<23;j++){k+="o"}return h.replace(/(http:\/\/[\S]*)/g,k).length};function c(){var h=e("#social_warfare textarea#swp_ogTitle").val();var i=60-h.length;if(h.length>0&&i>=0){e("#social_warfare .swp_og_title .swp_CountDown").removeClass("swp_red").addClass("swp_blue")}else{if(h.length>0&&i<0){e("#social_warfare .swp_og_title .swp_CountDown").removeClass("swp_blue").addClass("swp_red")}else{e("#social_warfare .swp_og_title .swp_CountDown").removeClass("swp_blue").removeClass("swp_red")}}e("#social_warfare .swp_og_title .counterNumber").html(i)}function a(){var i=e("#social_warfare textarea#swp_ogDescription").val();var h=160-i.length;if(i.length>0&&h>=0){e("#social_warfare .swp_og_description .swp_CountDown").removeClass("swp_red").addClass("swp_blue")}else{if(i.length>0&&h<0){e("#social_warfare .swp_og_description .swp_CountDown").removeClass("swp_blue").addClass("swp_red")}else{e("#social_warfare .swp_og_description .swp_CountDown").removeClass("swp_blue").removeClass("swp_red")}}e("#social_warfare .swp_og_description .counterNumber").html(h)}function f(){var i=e("#social_warfare textarea#swp_customTweet").val();var k=e("#social_warfare .twitterIDWrapper label").html();var j;if(i.indexOf("http")>-1||i.indexOf("https")>-1){j=0;e(".tweetLinkSection").css({"text-decoration":"line-through"})}else{j=23;e(".tweetLinkSection").css({"text-decoration":"none"})}var h;if("undefined"===typeof k){h=280-socialWarfareAdmin.linkLength(i)-j}else{h=280-socialWarfareAdmin.linkLength(i)-j-k.length-6}if(i.length>0&&h>=0){e("#social_warfare .swp_customTweetWrapper .swp_CountDown").removeClass("swp_red").addClass("swp_blue")}else{if(i.length>0&&h<0){e("#social_warfare .swp_customTweetWrapper .swp_CountDown").removeClass("swp_blue").addClass("swp_red")}else{e("#social_warfare .swp_customTweetWrapper .swp_CountDown").removeClass("swp_blue").removeClass("swp_red")}}e("#social_warfare .swp_customTweetWrapper .counterNumber").html(h)}function b(h){if(typeof h==="undefined"){h=true}if(h){e(".custom_thumb_size").show()}else{e(".custom_thumb_size").hide()}}e(document).ready(function(){if(e("#social_warfare.postbox").length){e("#social_warfare #swp_ogTitle").parent().prepend('<div class="swp_CountDown"><span class="counterNumber">60</span> '+swp_localize_admin.swp_characters_remaining+"</div>");e("#social_warfare #swp_ogDescription").parent().prepend('<div class="swp_CountDown"><span class="counterNumber">150</span> '+swp_localize_admin.swp_characters_remaining+"</div>");e("#social_warfare #swp_customTweet").parent().prepend('<div class="swp_CountDown"><span class="counterNumber">118</span> '+swp_localize_admin.swp_characters_remaining+"</div>");c();e("#social_warfare textarea#swp_ogTitle").on("input",function(){c()});a();e("#social_warfare textarea#swp_ogDescription").on("input",function(){a()});f();e("#social_warfare textarea#swp_customTweet").on("input",function(){f()});var i=setInterval(function(){var m=e(".swp_og_imageWrapper ul.swpmb-media-list");var k=e(".swp_pinterest_imageWrapper ul.swpmb-media-list");var o,n;if(m.length&&m.is(":empty")){o=m.width();n=o*(9/16);m.css({height:n+"px"})}else{n=m.find("img").height();m.css({height:n+"px"})}var j,l;if(k.length&&k.is(":empty")){j=k.width();l=j*(3/2);k.css({height:l+"px"})}else{l=k.find("img").height();k.css({height:l+"px"})}},1000)}swpConditionalFields();e(".swp_popular_post_options select").on("change",function(){swpConditionalFields()});if(e(".postbox#social_warfare").length){var h=e("#social_warfare .registrationWrapper input").attr("id");if(h=="false"){e(".postbox#social_warfare").css({position:"relative",opacity:"0.3"}).append('<div class="sw-premium-blocker"></div>');e("#social_warfare .sw-premium-blocker").tooltip({items:"#social_warfare .sw-premium-blocker",content:"<i></i>Unlock these features by registering your license.",position:{my:"center top",at:"center top"},tooltipClass:"sw-admin-hover-notice",open:function(j,k){if("undefined"===typeof(j.originalEvent)){return false}var l=e(k.tooltip).attr("id");e("div.ui-tooltip").not("#"+l).remove()},close:function(j,k){k.tooltip.hover(function(){e(this).stop(true).fadeTo(400,1)},function(){e(this).fadeOut("400",function(){e(this).remove()})})}})}}})})(this,jQuery);